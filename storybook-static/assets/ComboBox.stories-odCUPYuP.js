import{j as se}from"./jsx-runtime-DR9Q75dM.js";import{r as d,a as rr}from"./index-DRjF_FHU.js";import{r as In}from"./index-rX-Bn4lm.js";import{I as or}from"./InputText-CCBCWc8-.js";import{B as ir}from"./Button-DDx4WbKH.js";function vt(){return typeof window<"u"}function Me(e){return Tn(e)?(e.nodeName||"").toLowerCase():"#document"}function ce(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function be(e){var t;return(t=(Tn(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Tn(e){return vt()?e instanceof Node||e instanceof ce(e).Node:!1}function G(e){return vt()?e instanceof Element||e instanceof ce(e).Element:!1}function Q(e){return vt()?e instanceof HTMLElement||e instanceof ce(e).HTMLElement:!1}function Nt(e){return!vt()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ce(e).ShadowRoot}function Je(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=de(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function sr(e){return["table","td","th"].includes(Me(e))}function xt(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function jt(e){const t=yt(),n=G(e)?de(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function cr(e){let t=ye(e);for(;Q(t)&&!Fe(t);){if(jt(t))return t;if(xt(t))return null;t=ye(t)}return null}function yt(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Fe(e){return["html","body","#document"].includes(Me(e))}function de(e){return ce(e).getComputedStyle(e)}function wt(e){return G(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ye(e){if(Me(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Nt(e)&&e.host||be(e);return Nt(t)?t.host:t}function An(e){const t=ye(e);return Fe(t)?e.ownerDocument?e.ownerDocument.body:e.body:Q(t)&&Je(t)?t:An(t)}function Ae(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=An(e),i=o===((r=e.ownerDocument)==null?void 0:r.body),s=ce(o);if(i){const c=Bt(s);return t.concat(s,s.visualViewport||[],Je(o)?o:[],c&&n?Ae(c):[])}return t.concat(o,Ae(o,[],n))}function Bt(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function xe(e){let t=e.activeElement;for(;((n=t)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;t=t.shadowRoot.activeElement}return t}function oe(e,t){if(!e||!t)return!1;const n=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&Nt(n)){let r=t;for(;r;){if(e===r)return!0;r=r.parentNode||r.host}}return!1}function Sn(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function On(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}function Fn(e){return e.mozInputSource===0&&e.isTrusted?!0:_t()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function Mn(e){return ar()?!1:!_t()&&e.width===0&&e.height===0||_t()&&e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0&&e.pointerType==="touch"}function Dn(){return/apple/i.test(navigator.vendor)}function _t(){const e=/android/i;return e.test(Sn())||e.test(On())}function lr(){return Sn().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function ar(){return On().includes("jsdom/")}function ur(e){return"nativeEvent"in e}function fr(e){return e.matches("html,body")}function ue(e){return(e==null?void 0:e.ownerDocument)||document}function St(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}function Le(e){return"composedPath"in e?e.composedPath()[0]:e.target}const dr="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function mr(e){return Q(e)&&e.matches(dr)}function ne(e){e.preventDefault(),e.stopPropagation()}function Vt(e){return e?e.getAttribute("role")==="combobox"&&mr(e):!1}const Ge=Math.min,fe=Math.max,at=Math.round,Ve=Math.floor,he=e=>({x:e,y:e}),pr={left:"right",right:"left",bottom:"top",top:"bottom"},gr={start:"end",end:"start"};function Rt(e,t){return typeof e=="function"?e(t):e}function Ne(e){return e.split("-")[0]}function Qe(e){return e.split("-")[1]}function hr(e){return e==="x"?"y":"x"}function Pn(e){return e==="y"?"height":"width"}function Ke(e){return["top","bottom"].includes(Ne(e))?"y":"x"}function kn(e){return hr(Ke(e))}function br(e,t,n){n===void 0&&(n=!1);const r=Qe(e),o=kn(e),i=Pn(o);let s=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=ut(s)),[s,ut(s)]}function vr(e){const t=ut(e);return[Wt(e),t,Wt(t)]}function Wt(e){return e.replace(/start|end/g,t=>gr[t])}function xr(e,t,n){const r=["left","right"],o=["right","left"],i=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?i:s;default:return[]}}function yr(e,t,n,r){const o=Qe(e);let i=xr(Ne(e),n==="start",r);return o&&(i=i.map(s=>s+"-"+o),t&&(i=i.concat(i.map(Wt)))),i}function ut(e){return e.replace(/left|right|bottom|top/g,t=>pr[t])}function wr(e){return{top:0,right:0,bottom:0,left:0,...e}}function Rr(e){return typeof e!="number"?wr(e):{top:e,right:e,bottom:e,left:e}}function ft(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var Er=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],dt=Er.join(","),Ln=typeof Element>"u",je=Ln?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,mt=!Ln&&Element.prototype.getRootNode?function(e){var t;return e==null||(t=e.getRootNode)===null||t===void 0?void 0:t.call(e)}:function(e){return e==null?void 0:e.ownerDocument},pt=function e(t,n){var r;n===void 0&&(n=!0);var o=t==null||(r=t.getAttribute)===null||r===void 0?void 0:r.call(t,"inert"),i=o===""||o==="true",s=i||n&&t&&e(t.parentNode);return s},Cr=function(t){var n,r=t==null||(n=t.getAttribute)===null||n===void 0?void 0:n.call(t,"contenteditable");return r===""||r==="true"},Ir=function(t,n,r){if(pt(t))return[];var o=Array.prototype.slice.apply(t.querySelectorAll(dt));return n&&je.call(t,dt)&&o.unshift(t),o=o.filter(r),o},Tr=function e(t,n,r){for(var o=[],i=Array.from(t);i.length;){var s=i.shift();if(!pt(s,!1))if(s.tagName==="SLOT"){var c=s.assignedElements(),u=c.length?c:s.children,l=e(u,!0,r);r.flatten?o.push.apply(o,l):o.push({scopeParent:s,candidates:l})}else{var a=je.call(s,dt);a&&r.filter(s)&&(n||!t.includes(s))&&o.push(s);var p=s.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(s),m=!pt(p,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(s));if(p&&m){var f=e(p===!0?s.children:p.children,!0,r);r.flatten?o.push.apply(o,f):o.push({scopeParent:s,candidates:f})}else i.unshift.apply(i,s.children)}}return o},Nn=function(t){return!isNaN(parseInt(t.getAttribute("tabindex"),10))},Bn=function(t){if(!t)throw new Error("No node provided");return t.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||Cr(t))&&!Nn(t)?0:t.tabIndex},Ar=function(t,n){var r=Bn(t);return r<0&&n&&!Nn(t)?0:r},Sr=function(t,n){return t.tabIndex===n.tabIndex?t.documentOrder-n.documentOrder:t.tabIndex-n.tabIndex},_n=function(t){return t.tagName==="INPUT"},Or=function(t){return _n(t)&&t.type==="hidden"},Fr=function(t){var n=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(r){return r.tagName==="SUMMARY"});return n},Mr=function(t,n){for(var r=0;r<t.length;r++)if(t[r].checked&&t[r].form===n)return t[r]},Dr=function(t){if(!t.name)return!0;var n=t.form||mt(t),r=function(c){return n.querySelectorAll('input[type="radio"][name="'+c+'"]')},o;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")o=r(window.CSS.escape(t.name));else try{o=r(t.name)}catch(s){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",s.message),!1}var i=Mr(o,t.form);return!i||i===t},Pr=function(t){return _n(t)&&t.type==="radio"},kr=function(t){return Pr(t)&&!Dr(t)},Lr=function(t){var n,r=t&&mt(t),o=(n=r)===null||n===void 0?void 0:n.host,i=!1;if(r&&r!==t){var s,c,u;for(i=!!((s=o)!==null&&s!==void 0&&(c=s.ownerDocument)!==null&&c!==void 0&&c.contains(o)||t!=null&&(u=t.ownerDocument)!==null&&u!==void 0&&u.contains(t));!i&&o;){var l,a,p;r=mt(o),o=(l=r)===null||l===void 0?void 0:l.host,i=!!((a=o)!==null&&a!==void 0&&(p=a.ownerDocument)!==null&&p!==void 0&&p.contains(o))}}return i},en=function(t){var n=t.getBoundingClientRect(),r=n.width,o=n.height;return r===0&&o===0},Nr=function(t,n){var r=n.displayCheck,o=n.getShadowRoot;if(getComputedStyle(t).visibility==="hidden")return!0;var i=je.call(t,"details>summary:first-of-type"),s=i?t.parentElement:t;if(je.call(s,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof o=="function"){for(var c=t;t;){var u=t.parentElement,l=mt(t);if(u&&!u.shadowRoot&&o(u)===!0)return en(t);t.assignedSlot?t=t.assignedSlot:!u&&l!==t.ownerDocument?t=l.host:t=u}t=c}if(Lr(t))return!t.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return en(t);return!1},Br=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var n=t.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var o=n.children.item(r);if(o.tagName==="LEGEND")return je.call(n,"fieldset[disabled] *")?!0:!o.contains(t)}return!0}n=n.parentElement}return!1},_r=function(t,n){return!(n.disabled||pt(n)||Or(n)||Nr(n,t)||Fr(n)||Br(n))},$t=function(t,n){return!(kr(n)||Bn(n)<0||!_r(t,n))},Vr=function(t){var n=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},Wr=function e(t){var n=[],r=[];return t.forEach(function(o,i){var s=!!o.scopeParent,c=s?o.scopeParent:o,u=Ar(c,s),l=s?e(o.candidates):c;u===0?s?n.push.apply(n,l):n.push(c):r.push({documentOrder:i,tabIndex:u,item:o,isScope:s,content:l})}),r.sort(Sr).reduce(function(o,i){return i.isScope?o.push.apply(o,i.content):o.push(i.content),o},[]).concat(n)},Et=function(t,n){n=n||{};var r;return n.getShadowRoot?r=Tr([t],n.includeContainer,{filter:$t.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:Vr}):r=Ir(t,n.includeContainer,$t.bind(null,n)),Wr(r)},$r=function(t,n){if(n=n||{},!t)throw new Error("No node provided");return je.call(t,dt)===!1?!1:$t(n,t)};function tn(e,t,n){let{reference:r,floating:o}=e;const i=Ke(t),s=kn(t),c=Pn(s),u=Ne(t),l=i==="y",a=r.x+r.width/2-o.width/2,p=r.y+r.height/2-o.height/2,m=r[c]/2-o[c]/2;let f;switch(u){case"top":f={x:a,y:r.y-o.height};break;case"bottom":f={x:a,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:p};break;case"left":f={x:r.x-o.width,y:p};break;default:f={x:r.x,y:r.y}}switch(Qe(t)){case"start":f[s]-=m*(n&&l?-1:1);break;case"end":f[s]+=m*(n&&l?-1:1);break}return f}const Kr=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:s}=n,c=i.filter(Boolean),u=await(s.isRTL==null?void 0:s.isRTL(t));let l=await s.getElementRects({reference:e,floating:t,strategy:o}),{x:a,y:p}=tn(l,r,u),m=r,f={},g=0;for(let h=0;h<c.length;h++){const{name:R,fn:y}=c[h],{x:C,y:b,data:E,reset:F}=await y({x:a,y:p,initialPlacement:r,placement:m,strategy:o,middlewareData:f,rects:l,platform:s,elements:{reference:e,floating:t}});a=C??a,p=b??p,f={...f,[R]:{...f[R],...E}},F&&g<=50&&(g++,typeof F=="object"&&(F.placement&&(m=F.placement),F.rects&&(l=F.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:o}):F.rects),{x:a,y:p}=tn(l,m,u)),h=-1)}return{x:a,y:p,placement:m,strategy:o,middlewareData:f}};async function Vn(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:i,rects:s,elements:c,strategy:u}=e,{boundary:l="clippingAncestors",rootBoundary:a="viewport",elementContext:p="floating",altBoundary:m=!1,padding:f=0}=Rt(t,e),g=Rr(f),R=c[m?p==="floating"?"reference":"floating":p],y=ft(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(R)))==null||n?R:R.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(c.floating)),boundary:l,rootBoundary:a,strategy:u})),C=p==="floating"?{x:r,y:o,width:s.floating.width,height:s.floating.height}:s.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c.floating)),E=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},F=ft(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:C,offsetParent:b,strategy:u}):C);return{top:(y.top-F.top+g.top)/E.y,bottom:(F.bottom-y.bottom+g.bottom)/E.y,left:(y.left-F.left+g.left)/E.x,right:(F.right-y.right+g.right)/E.x}}const jr=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:i,rects:s,initialPlacement:c,platform:u,elements:l}=t,{mainAxis:a=!0,crossAxis:p=!0,fallbackPlacements:m,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:h=!0,...R}=Rt(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const y=Ne(o),C=Ke(c),b=Ne(c)===c,E=await(u.isRTL==null?void 0:u.isRTL(l.floating)),F=m||(b||!h?[ut(c)]:vr(c)),M=g!=="none";!m&&M&&F.push(...yr(c,h,g,E));const $=[c,...F],W=await Vn(t,R),q=[];let K=((r=i.flip)==null?void 0:r.overflows)||[];if(a&&q.push(W[y]),p){const j=br(o,s,E);q.push(W[j[0]],W[j[1]])}if(K=[...K,{placement:o,overflows:q}],!q.every(j=>j<=0)){var _,x;const j=(((_=i.flip)==null?void 0:_.index)||0)+1,I=$[j];if(I)return{data:{index:j,overflows:K},reset:{placement:I}};let w=(x=K.filter(B=>B.overflows[0]<=0).sort((B,A)=>B.overflows[1]-A.overflows[1])[0])==null?void 0:x.placement;if(!w)switch(f){case"bestFit":{var O;const B=(O=K.filter(A=>{if(M){const v=Ke(A.placement);return v===C||v==="y"}return!0}).map(A=>[A.placement,A.overflows.filter(v=>v>0).reduce((v,k)=>v+k,0)]).sort((A,v)=>A[1]-v[1])[0])==null?void 0:O[0];B&&(w=B);break}case"initialPlacement":w=c;break}if(o!==w)return{reset:{placement:w}}}return{}}}};async function qr(e,t){const{placement:n,platform:r,elements:o}=e,i=await(r.isRTL==null?void 0:r.isRTL(o.floating)),s=Ne(n),c=Qe(n),u=Ke(n)==="y",l=["left","top"].includes(s)?-1:1,a=i&&u?-1:1,p=Rt(t,e);let{mainAxis:m,crossAxis:f,alignmentAxis:g}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return c&&typeof g=="number"&&(f=c==="end"?g*-1:g),u?{x:f*a,y:m*l}:{x:m*l,y:f*a}}const Hr=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:i,placement:s,middlewareData:c}=t,u=await qr(t,e);return s===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:o+u.x,y:i+u.y,data:{...u,placement:s}}}}},zr=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:o,rects:i,platform:s,elements:c}=t,{apply:u=()=>{},...l}=Rt(e,t),a=await Vn(t,l),p=Ne(o),m=Qe(o),f=Ke(o)==="y",{width:g,height:h}=i.floating;let R,y;p==="top"||p==="bottom"?(R=p,y=m===(await(s.isRTL==null?void 0:s.isRTL(c.floating))?"start":"end")?"left":"right"):(y=p,R=m==="end"?"top":"bottom");const C=h-a.top-a.bottom,b=g-a.left-a.right,E=Ge(h-a[R],C),F=Ge(g-a[y],b),M=!t.middlewareData.shift;let $=E,W=F;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(W=b),(r=t.middlewareData.shift)!=null&&r.enabled.y&&($=C),M&&!m){const K=fe(a.left,0),_=fe(a.right,0),x=fe(a.top,0),O=fe(a.bottom,0);f?W=g-2*(K!==0||_!==0?K+_:fe(a.left,a.right)):$=h-2*(x!==0||O!==0?x+O:fe(a.top,a.bottom))}await u({...t,availableWidth:W,availableHeight:$});const q=await s.getDimensions(c.floating);return g!==q.width||h!==q.height?{reset:{rects:!0}}:{}}}};function Wn(e){const t=de(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=Q(e),i=o?e.offsetWidth:n,s=o?e.offsetHeight:r,c=at(n)!==i||at(r)!==s;return c&&(n=i,r=s),{width:n,height:r,$:c}}function qt(e){return G(e)?e:e.contextElement}function We(e){const t=qt(e);if(!Q(t))return he(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=Wn(t);let s=(i?at(n.width):n.width)/r,c=(i?at(n.height):n.height)/o;return(!s||!Number.isFinite(s))&&(s=1),(!c||!Number.isFinite(c))&&(c=1),{x:s,y:c}}const Ur=he(0);function $n(e){const t=ce(e);return!yt()||!t.visualViewport?Ur:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Yr(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==ce(e)?!1:t}function Be(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),i=qt(e);let s=he(1);t&&(r?G(r)&&(s=We(r)):s=We(e));const c=Yr(i,n,r)?$n(i):he(0);let u=(o.left+c.x)/s.x,l=(o.top+c.y)/s.y,a=o.width/s.x,p=o.height/s.y;if(i){const m=ce(i),f=r&&G(r)?ce(r):r;let g=m,h=Bt(g);for(;h&&r&&f!==g;){const R=We(h),y=h.getBoundingClientRect(),C=de(h),b=y.left+(h.clientLeft+parseFloat(C.paddingLeft))*R.x,E=y.top+(h.clientTop+parseFloat(C.paddingTop))*R.y;u*=R.x,l*=R.y,a*=R.x,p*=R.y,u+=b,l+=E,g=ce(h),h=Bt(g)}}return ft({width:a,height:p,x:u,y:l})}function Ht(e,t){const n=wt(e).scrollLeft;return t?t.left+n:Be(be(e)).left+n}function Kn(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),o=r.left+t.scrollLeft-(n?0:Ht(e,r)),i=r.top+t.scrollTop;return{x:o,y:i}}function Gr(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const i=o==="fixed",s=be(r),c=t?xt(t.floating):!1;if(r===s||c&&i)return n;let u={scrollLeft:0,scrollTop:0},l=he(1);const a=he(0),p=Q(r);if((p||!p&&!i)&&((Me(r)!=="body"||Je(s))&&(u=wt(r)),Q(r))){const f=Be(r);l=We(r),a.x=f.x+r.clientLeft,a.y=f.y+r.clientTop}const m=s&&!p&&!i?Kn(s,u,!0):he(0);return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-u.scrollLeft*l.x+a.x+m.x,y:n.y*l.y-u.scrollTop*l.y+a.y+m.y}}function Xr(e){return Array.from(e.getClientRects())}function Zr(e){const t=be(e),n=wt(e),r=e.ownerDocument.body,o=fe(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=fe(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+Ht(e);const c=-n.scrollTop;return de(r).direction==="rtl"&&(s+=fe(t.clientWidth,r.clientWidth)-o),{width:o,height:i,x:s,y:c}}function Jr(e,t){const n=ce(e),r=be(e),o=n.visualViewport;let i=r.clientWidth,s=r.clientHeight,c=0,u=0;if(o){i=o.width,s=o.height;const l=yt();(!l||l&&t==="fixed")&&(c=o.offsetLeft,u=o.offsetTop)}return{width:i,height:s,x:c,y:u}}function Qr(e,t){const n=Be(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,i=Q(e)?We(e):he(1),s=e.clientWidth*i.x,c=e.clientHeight*i.y,u=o*i.x,l=r*i.y;return{width:s,height:c,x:u,y:l}}function nn(e,t,n){let r;if(t==="viewport")r=Jr(e,n);else if(t==="document")r=Zr(be(e));else if(G(t))r=Qr(t,n);else{const o=$n(e);r={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return ft(r)}function jn(e,t){const n=ye(e);return n===t||!G(n)||Fe(n)?!1:de(n).position==="fixed"||jn(n,t)}function eo(e,t){const n=t.get(e);if(n)return n;let r=Ae(e,[],!1).filter(c=>G(c)&&Me(c)!=="body"),o=null;const i=de(e).position==="fixed";let s=i?ye(e):e;for(;G(s)&&!Fe(s);){const c=de(s),u=jt(s);!u&&c.position==="fixed"&&(o=null),(i?!u&&!o:!u&&c.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||Je(s)&&!u&&jn(e,s))?r=r.filter(a=>a!==s):o=c,s=ye(s)}return t.set(e,r),r}function to(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const s=[...n==="clippingAncestors"?xt(t)?[]:eo(t,this._c):[].concat(n),r],c=s[0],u=s.reduce((l,a)=>{const p=nn(t,a,o);return l.top=fe(p.top,l.top),l.right=Ge(p.right,l.right),l.bottom=Ge(p.bottom,l.bottom),l.left=fe(p.left,l.left),l},nn(t,c,o));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function no(e){const{width:t,height:n}=Wn(e);return{width:t,height:n}}function ro(e,t,n){const r=Q(t),o=be(t),i=n==="fixed",s=Be(e,!0,i,t);let c={scrollLeft:0,scrollTop:0};const u=he(0);if(r||!r&&!i)if((Me(t)!=="body"||Je(o))&&(c=wt(t)),r){const m=Be(t,!0,i,t);u.x=m.x+t.clientLeft,u.y=m.y+t.clientTop}else o&&(u.x=Ht(o));const l=o&&!r&&!i?Kn(o,c):he(0),a=s.left+c.scrollLeft-u.x-l.x,p=s.top+c.scrollTop-u.y-l.y;return{x:a,y:p,width:s.width,height:s.height}}function Ot(e){return de(e).position==="static"}function rn(e,t){if(!Q(e)||de(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return be(e)===n&&(n=n.ownerDocument.body),n}function qn(e,t){const n=ce(e);if(xt(e))return n;if(!Q(e)){let o=ye(e);for(;o&&!Fe(o);){if(G(o)&&!Ot(o))return o;o=ye(o)}return n}let r=rn(e,t);for(;r&&sr(r)&&Ot(r);)r=rn(r,t);return r&&Fe(r)&&Ot(r)&&!jt(r)?n:r||cr(e)||n}const oo=async function(e){const t=this.getOffsetParent||qn,n=this.getDimensions,r=await n(e.floating);return{reference:ro(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function io(e){return de(e).direction==="rtl"}const so={convertOffsetParentRelativeRectToViewportRelativeRect:Gr,getDocumentElement:be,getClippingRect:to,getOffsetParent:qn,getElementRects:oo,getClientRects:Xr,getDimensions:no,getScale:We,isElement:G,isRTL:io};function co(e,t){let n=null,r;const o=be(e);function i(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function s(c,u){c===void 0&&(c=!1),u===void 0&&(u=1),i();const{left:l,top:a,width:p,height:m}=e.getBoundingClientRect();if(c||t(),!p||!m)return;const f=Ve(a),g=Ve(o.clientWidth-(l+p)),h=Ve(o.clientHeight-(a+m)),R=Ve(l),C={rootMargin:-f+"px "+-g+"px "+-h+"px "+-R+"px",threshold:fe(0,Ge(1,u))||1};let b=!0;function E(F){const M=F[0].intersectionRatio;if(M!==u){if(!b)return s();M?s(!1,M):r=setTimeout(()=>{s(!1,1e-7)},1e3)}b=!1}try{n=new IntersectionObserver(E,{...C,root:o.ownerDocument})}catch{n=new IntersectionObserver(E,C)}n.observe(e)}return s(!0),i}function lo(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,l=qt(e),a=o||i?[...l?Ae(l):[],...Ae(t)]:[];a.forEach(y=>{o&&y.addEventListener("scroll",n,{passive:!0}),i&&y.addEventListener("resize",n)});const p=l&&c?co(l,n):null;let m=-1,f=null;s&&(f=new ResizeObserver(y=>{let[C]=y;C&&C.target===l&&f&&(f.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var b;(b=f)==null||b.observe(t)})),n()}),l&&!u&&f.observe(l),f.observe(t));let g,h=u?Be(e):null;u&&R();function R(){const y=Be(e);h&&(y.x!==h.x||y.y!==h.y||y.width!==h.width||y.height!==h.height)&&n(),h=y,g=requestAnimationFrame(R)}return n(),()=>{var y;a.forEach(C=>{o&&C.removeEventListener("scroll",n),i&&C.removeEventListener("resize",n)}),p==null||p(),(y=f)==null||y.disconnect(),f=null,u&&cancelAnimationFrame(g)}}const ao=Hr,uo=jr,fo=zr,mo=(e,t,n)=>{const r=new Map,o={platform:so,...n},i={...o.platform,_c:r};return Kr(e,t,{...o,platform:i})};var ct=typeof document<"u"?d.useLayoutEffect:d.useEffect;function gt(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!gt(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const i=o[r];if(!(i==="_owner"&&e.$$typeof)&&!gt(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function Hn(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function on(e,t){const n=Hn(e);return Math.round(t*n)/n}function Ft(e){const t=d.useRef(e);return ct(()=>{t.current=e}),t}function po(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:i,floating:s}={},transform:c=!0,whileElementsMounted:u,open:l}=e,[a,p]=d.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[m,f]=d.useState(r);gt(m,r)||f(r);const[g,h]=d.useState(null),[R,y]=d.useState(null),C=d.useCallback(A=>{A!==M.current&&(M.current=A,h(A))},[]),b=d.useCallback(A=>{A!==$.current&&($.current=A,y(A))},[]),E=i||g,F=s||R,M=d.useRef(null),$=d.useRef(null),W=d.useRef(a),q=u!=null,K=Ft(u),_=Ft(o),x=Ft(l),O=d.useCallback(()=>{if(!M.current||!$.current)return;const A={placement:t,strategy:n,middleware:m};_.current&&(A.platform=_.current),mo(M.current,$.current,A).then(v=>{const k={...v,isPositioned:x.current!==!1};j.current&&!gt(W.current,k)&&(W.current=k,In.flushSync(()=>{p(k)}))})},[m,t,n,_,x]);ct(()=>{l===!1&&W.current.isPositioned&&(W.current.isPositioned=!1,p(A=>({...A,isPositioned:!1})))},[l]);const j=d.useRef(!1);ct(()=>(j.current=!0,()=>{j.current=!1}),[]),ct(()=>{if(E&&(M.current=E),F&&($.current=F),E&&F){if(K.current)return K.current(E,F,O);O()}},[E,F,O,K,q]);const I=d.useMemo(()=>({reference:M,floating:$,setReference:C,setFloating:b}),[C,b]),w=d.useMemo(()=>({reference:E,floating:F}),[E,F]),B=d.useMemo(()=>{const A={position:n,left:0,top:0};if(!w.floating)return A;const v=on(w.floating,a.x),k=on(w.floating,a.y);return c?{...A,transform:"translate("+v+"px, "+k+"px)",...Hn(w.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:v,top:k}},[n,c,w.floating,a.x,a.y]);return d.useMemo(()=>({...a,update:O,refs:I,elements:w,floatingStyles:B}),[a,O,I,w,B])}const go=(e,t)=>({...ao(e),options:[e,t]}),ho=(e,t)=>({...uo(e),options:[e,t]}),bo=(e,t)=>({...fo(e),options:[e,t]}),zn={...rr},vo=zn.useInsertionEffect,xo=vo||(e=>e());function me(e){const t=d.useRef(()=>{});return xo(()=>{t.current=e}),d.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}const zt="ArrowUp",et="ArrowDown",Se="ArrowLeft",Oe="ArrowRight";function rt(e,t,n){return Math.floor(e/t)!==n}function Ue(e,t){return t<0||t>=e.current.length}function Mt(e,t){return ee(e,{disabledIndices:t})}function sn(e,t){return ee(e,{decrement:!0,startingIndex:e.current.length,disabledIndices:t})}function ee(e,t){let{startingIndex:n=-1,decrement:r=!1,disabledIndices:o,amount:i=1}=t===void 0?{}:t;const s=e.current;let c=n;do c+=r?-i:i;while(c>=0&&c<=s.length-1&&lt(s,c,o));return c}function yo(e,t){let{event:n,orientation:r,loop:o,rtl:i,cols:s,disabledIndices:c,minIndex:u,maxIndex:l,prevIndex:a,stopEvent:p=!1}=t,m=a;if(n.key===zt){if(p&&ne(n),a===-1)m=l;else if(m=ee(e,{startingIndex:m,amount:s,decrement:!0,disabledIndices:c}),o&&(a-s<u||m<0)){const f=a%s,g=l%s,h=l-(g-f);g===f?m=l:m=g>f?h:h-s}Ue(e,m)&&(m=a)}if(n.key===et&&(p&&ne(n),a===-1?m=u:(m=ee(e,{startingIndex:a,amount:s,disabledIndices:c}),o&&a+s>l&&(m=ee(e,{startingIndex:a%s-s,amount:s,disabledIndices:c}))),Ue(e,m)&&(m=a)),r==="both"){const f=Ve(a/s);n.key===(i?Se:Oe)&&(p&&ne(n),a%s!==s-1?(m=ee(e,{startingIndex:a,disabledIndices:c}),o&&rt(m,s,f)&&(m=ee(e,{startingIndex:a-a%s-1,disabledIndices:c}))):o&&(m=ee(e,{startingIndex:a-a%s-1,disabledIndices:c})),rt(m,s,f)&&(m=a)),n.key===(i?Oe:Se)&&(p&&ne(n),a%s!==0?(m=ee(e,{startingIndex:a,decrement:!0,disabledIndices:c}),o&&rt(m,s,f)&&(m=ee(e,{startingIndex:a+(s-a%s),decrement:!0,disabledIndices:c}))):o&&(m=ee(e,{startingIndex:a+(s-a%s),decrement:!0,disabledIndices:c})),rt(m,s,f)&&(m=a));const g=Ve(l/s)===f;Ue(e,m)&&(o&&g?m=n.key===(i?Oe:Se)?l:ee(e,{startingIndex:a-a%s-1,disabledIndices:c}):m=a)}return m}function wo(e,t,n){const r=[];let o=0;return e.forEach((i,s)=>{let{width:c,height:u}=i,l=!1;for(n&&(o=0);!l;){const a=[];for(let p=0;p<c;p++)for(let m=0;m<u;m++)a.push(o+p+m*t);o%t+c<=t&&a.every(p=>r[p]==null)?(a.forEach(p=>{r[p]=s}),l=!0):o++}}),[...r]}function Ro(e,t,n,r,o){if(e===-1)return-1;const i=n.indexOf(e),s=t[e];switch(o){case"tl":return i;case"tr":return s?i+s.width-1:i;case"bl":return s?i+(s.height-1)*r:i;case"br":return n.lastIndexOf(e)}}function Eo(e,t){return t.flatMap((n,r)=>e.includes(n)?[r]:[])}function lt(e,t,n){if(n)return n.includes(t);const r=e[t];return r==null||r.hasAttribute("disabled")||r.getAttribute("aria-disabled")==="true"}var Z=typeof document<"u"?d.useLayoutEffect:d.useEffect;function ht(){return ht=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ht.apply(this,arguments)}let cn=!1,Co=0;const ln=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+Co++;function Io(){const[e,t]=d.useState(()=>cn?ln():void 0);return Z(()=>{e==null&&t(ln())},[]),d.useEffect(()=>{cn=!0},[]),e}const To=zn.useId,Ct=To||Io;function Ao(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(o=>o(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,((r=e.get(t))==null?void 0:r.filter(o=>o!==n))||[])}}}const So=d.createContext(null),Oo=d.createContext(null),Ut=()=>{var e;return((e=d.useContext(So))==null?void 0:e.id)||null},It=()=>d.useContext(Oo);function Xe(e){return"data-floating-ui-"+e}function Te(e){const t=d.useRef(e);return Z(()=>{t.current=e}),t}let an=0;function Ie(e,t){t===void 0&&(t={});const{preventScroll:n=!1,cancelPrevious:r=!0,sync:o=!1}=t;r&&cancelAnimationFrame(an);const i=()=>e==null?void 0:e.focus({preventScroll:n});o?i():an=requestAnimationFrame(i)}function Fo(e,t){var n;let r=[],o=(n=e.find(i=>i.id===t))==null?void 0:n.parentId;for(;o;){const i=e.find(s=>s.id===o);o=i==null?void 0:i.parentId,i&&(r=r.concat(i))}return r}function $e(e,t){let n=e.filter(o=>{var i;return o.parentId===t&&((i=o.context)==null?void 0:i.open)}),r=n;for(;r.length;)r=e.filter(o=>{var i;return(i=r)==null?void 0:i.some(s=>{var c;return o.parentId===s.id&&((c=o.context)==null?void 0:c.open)})}),n=n.concat(r);return n}function Mo(e,t){let n,r=-1;function o(i,s){s>r&&(n=i,r=s),$e(e,i).forEach(u=>{o(u.id,s+1)})}return o(t,0),e.find(i=>i.id===n)}let _e=new WeakMap,ot=new WeakSet,it={},Dt=0;const Do=()=>typeof HTMLElement<"u"&&"inert"in HTMLElement.prototype,Un=e=>e&&(e.host||Un(e.parentNode)),Po=(e,t)=>t.map(n=>{if(e.contains(n))return n;const r=Un(n);return e.contains(r)?r:null}).filter(n=>n!=null);function ko(e,t,n,r){const o="data-floating-ui-inert",i=r?"inert":n?"aria-hidden":null,s=Po(t,e),c=new Set,u=new Set(s),l=[];it[o]||(it[o]=new WeakMap);const a=it[o];s.forEach(p),m(t),c.clear();function p(f){!f||c.has(f)||(c.add(f),f.parentNode&&p(f.parentNode))}function m(f){!f||u.has(f)||[].forEach.call(f.children,g=>{if(Me(g)!=="script")if(c.has(g))m(g);else{const h=i?g.getAttribute(i):null,R=h!==null&&h!=="false",y=(_e.get(g)||0)+1,C=(a.get(g)||0)+1;_e.set(g,y),a.set(g,C),l.push(g),y===1&&R&&ot.add(g),C===1&&g.setAttribute(o,""),!R&&i&&g.setAttribute(i,"true")}})}return Dt++,()=>{l.forEach(f=>{const g=(_e.get(f)||0)-1,h=(a.get(f)||0)-1;_e.set(f,g),a.set(f,h),g||(!ot.has(f)&&i&&f.removeAttribute(i),ot.delete(f)),h||f.removeAttribute(o)}),Dt--,Dt||(_e=new WeakMap,_e=new WeakMap,ot=new WeakSet,it={})}}function un(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);const r=ue(e[0]).body;return ko(e.concat(Array.from(r.querySelectorAll("[aria-live]"))),r,t,n)}const Ze=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function Yn(e,t){const n=Et(e,Ze());t==="prev"&&n.reverse();const r=n.indexOf(xe(ue(e)));return n.slice(r+1)[0]}function Gn(){return Yn(document.body,"next")}function Xn(){return Yn(document.body,"prev")}function Ye(e,t){const n=t||e.currentTarget,r=e.relatedTarget;return!r||!oe(n,r)}function Lo(e){Et(e,Ze()).forEach(n=>{n.dataset.tabindex=n.getAttribute("tabindex")||"",n.setAttribute("tabindex","-1")})}function fn(e){e.querySelectorAll("[data-tabindex]").forEach(n=>{const r=n.dataset.tabindex;delete n.dataset.tabindex,r?n.setAttribute("tabindex",r):n.removeAttribute("tabindex")})}const Tt={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let No;function dn(e){e.key==="Tab"&&(e.target,clearTimeout(No))}const bt=d.forwardRef(function(t,n){const[r,o]=d.useState();Z(()=>(Dn()&&o("button"),document.addEventListener("keydown",dn),()=>{document.removeEventListener("keydown",dn)}),[]);const i={ref:n,tabIndex:0,role:r,"aria-hidden":r?void 0:!0,[Xe("focus-guard")]:"",style:Tt};return d.createElement("span",ht({},t,i))}),Zn=d.createContext(null),mn=Xe("portal");function Bo(e){e===void 0&&(e={});const{id:t,root:n}=e,r=Ct(),o=Jn(),[i,s]=d.useState(null),c=d.useRef(null);return Z(()=>()=>{i==null||i.remove(),queueMicrotask(()=>{c.current=null})},[i]),Z(()=>{if(!r||c.current)return;const u=t?document.getElementById(t):null;if(!u)return;const l=document.createElement("div");l.id=r,l.setAttribute(mn,""),u.appendChild(l),c.current=l,s(l)},[t,r]),Z(()=>{if(n===null||!r||c.current)return;let u=n||(o==null?void 0:o.portalNode);u&&!G(u)&&(u=u.current),u=u||document.body;let l=null;t&&(l=document.createElement("div"),l.id=t,u.appendChild(l));const a=document.createElement("div");a.id=r,a.setAttribute(mn,""),u=l||u,u.appendChild(a),c.current=a,s(a)},[t,n,r,o]),i}function _o(e){const{children:t,id:n,root:r,preserveTabOrder:o=!0}=e,i=Bo({id:n,root:r}),[s,c]=d.useState(null),u=d.useRef(null),l=d.useRef(null),a=d.useRef(null),p=d.useRef(null),m=s==null?void 0:s.modal,f=s==null?void 0:s.open,g=!!s&&!s.modal&&s.open&&o&&!!(r||i);return d.useEffect(()=>{if(!i||!o||m)return;function h(R){i&&Ye(R)&&(R.type==="focusin"?fn:Lo)(i)}return i.addEventListener("focusin",h,!0),i.addEventListener("focusout",h,!0),()=>{i.removeEventListener("focusin",h,!0),i.removeEventListener("focusout",h,!0)}},[i,o,m]),d.useEffect(()=>{i&&(f||fn(i))},[f,i]),d.createElement(Zn.Provider,{value:d.useMemo(()=>({preserveTabOrder:o,beforeOutsideRef:u,afterOutsideRef:l,beforeInsideRef:a,afterInsideRef:p,portalNode:i,setFocusManagerState:c}),[o,i])},g&&i&&d.createElement(bt,{"data-type":"outside",ref:u,onFocus:h=>{if(Ye(h,i)){var R;(R=a.current)==null||R.focus()}else{const y=Xn()||(s==null?void 0:s.refs.domReference.current);y==null||y.focus()}}}),g&&i&&d.createElement("span",{"aria-owns":i.id,style:Tt}),i&&In.createPortal(t,i),g&&i&&d.createElement(bt,{"data-type":"outside",ref:l,onFocus:h=>{if(Ye(h,i)){var R;(R=p.current)==null||R.focus()}else{const y=Gn()||(s==null?void 0:s.refs.domReference.current);y==null||y.focus(),s!=null&&s.closeOnFocusOut&&(s==null||s.onOpenChange(!1,h.nativeEvent,"focus-out"))}}}))}const Jn=()=>d.useContext(Zn),Kt="data-floating-ui-focusable";function Qn(e){return e?e.hasAttribute(Kt)?e:e.querySelector("["+Kt+"]")||e:null}const pn=20;let ke=[];function Pt(e){ke=ke.filter(n=>n.isConnected);let t=e;if(!(!t||Me(t)==="body")){if(!$r(t,Ze())){const n=Et(t,Ze())[0];n&&(t=n)}ke.push(t),ke.length>pn&&(ke=ke.slice(-pn))}}function gn(){return ke.slice().reverse().find(e=>e.isConnected)}const Vo=d.forwardRef(function(t,n){return d.createElement("button",ht({},t,{type:"button",ref:n,tabIndex:-1,style:Tt}))});function Wo(e){const{context:t,children:n,disabled:r=!1,order:o=["content"],guards:i=!0,initialFocus:s=0,returnFocus:c=!0,restoreFocus:u=!1,modal:l=!0,visuallyHiddenDismiss:a=!1,closeOnFocusOut:p=!0}=e,{open:m,refs:f,nodeId:g,onOpenChange:h,events:R,dataRef:y,floatingId:C,elements:{domReference:b,floating:E}}=t,F=typeof s=="number"&&s<0,M=Vt(b)&&F,$=Do()?i:!0,W=Te(o),q=Te(s),K=Te(c),_=It(),x=Jn(),O=d.useRef(null),j=d.useRef(null),I=d.useRef(!1),w=d.useRef(!1),B=d.useRef(-1),A=x!=null,v=Qn(E),k=me(function(D){return D===void 0&&(D=v),D?Et(D,Ze()):[]}),z=me(D=>{const N=k(D);return W.current.map(T=>b&&T==="reference"?b:v&&T==="floating"?v:N).filter(Boolean).flat()});d.useEffect(()=>{if(r||!l)return;function D(T){if(T.key==="Tab"){oe(v,xe(ue(v)))&&k().length===0&&!M&&ne(T);const P=z(),V=Le(T);W.current[0]==="reference"&&V===b&&(ne(T),T.shiftKey?Ie(P[P.length-1]):Ie(P[1])),W.current[1]==="floating"&&V===v&&T.shiftKey&&(ne(T),Ie(P[0]))}}const N=ue(v);return N.addEventListener("keydown",D),()=>{N.removeEventListener("keydown",D)}},[r,b,v,l,W,M,k,z]),d.useEffect(()=>{if(r||!E)return;function D(N){const T=Le(N),V=k().indexOf(T);V!==-1&&(B.current=V)}return E.addEventListener("focusin",D),()=>{E.removeEventListener("focusin",D)}},[r,E,k]),d.useEffect(()=>{if(r||!p)return;function D(){w.current=!0,setTimeout(()=>{w.current=!1})}function N(T){const P=T.relatedTarget;queueMicrotask(()=>{const V=!(oe(b,P)||oe(E,P)||oe(P,E)||oe(x==null?void 0:x.portalNode,P)||P!=null&&P.hasAttribute(Xe("focus-guard"))||_&&($e(_.nodesRef.current,g).find(J=>{var X,ie;return oe((X=J.context)==null?void 0:X.elements.floating,P)||oe((ie=J.context)==null?void 0:ie.elements.domReference,P)})||Fo(_.nodesRef.current,g).find(J=>{var X,ie;return((X=J.context)==null?void 0:X.elements.floating)===P||((ie=J.context)==null?void 0:ie.elements.domReference)===P})));if(u&&V&&xe(ue(v))===ue(v).body){Q(v)&&v.focus();const J=B.current,X=k(),ie=X[J]||X[X.length-1]||v;Q(ie)&&ie.focus()}(M||!l)&&P&&V&&!w.current&&P!==gn()&&(I.current=!0,h(!1,T,"focus-out"))})}if(E&&Q(b))return b.addEventListener("focusout",N),b.addEventListener("pointerdown",D),E.addEventListener("focusout",N),()=>{b.removeEventListener("focusout",N),b.removeEventListener("pointerdown",D),E.removeEventListener("focusout",N)}},[r,b,E,v,l,g,_,x,h,p,u,k,M]),d.useEffect(()=>{var D;if(r)return;const N=Array.from((x==null||(D=x.portalNode)==null?void 0:D.querySelectorAll("["+Xe("portal")+"]"))||[]);if(E){const T=[E,...N,O.current,j.current,W.current.includes("reference")||M?b:null].filter(V=>V!=null),P=l||M?un(T,$,!$):un(T);return()=>{P()}}},[r,b,E,l,W,x,M,$]),Z(()=>{if(r||!Q(v))return;const D=ue(v),N=xe(D);queueMicrotask(()=>{const T=z(v),P=q.current,V=(typeof P=="number"?T[P]:P.current)||v,J=oe(v,N);!F&&!J&&m&&Ie(V,{preventScroll:V===v})})},[r,m,v,F,z,q]),Z(()=>{if(r||!v)return;let D=!1;const N=ue(v),T=xe(N);let V=y.current.openEvent;Pt(T);function J(le){let{open:De,reason:we,event:re,nested:Re}=le;De&&(V=re),we==="escape-key"&&f.domReference.current&&Pt(f.domReference.current),we==="hover"&&re.type==="mouseleave"&&(I.current=!0),we==="outside-press"&&(Re?(I.current=!1,D=!0):I.current=!(Fn(re)||Mn(re)))}R.on("openchange",J);const X=N.createElement("span");X.setAttribute("tabindex","-1"),X.setAttribute("aria-hidden","true"),Object.assign(X.style,Tt),A&&b&&b.insertAdjacentElement("afterend",X);function ie(){return typeof K.current=="boolean"?gn()||X:K.current.current||X}return()=>{R.off("openchange",J);const le=xe(N),De=oe(E,le)||_&&$e(_.nodesRef.current,g).some(Re=>{var qe;return oe((qe=Re.context)==null?void 0:qe.elements.floating,le)});(De||V&&["click","mousedown"].includes(V.type))&&f.domReference.current&&Pt(f.domReference.current);const re=ie();queueMicrotask(()=>{K.current&&!I.current&&Q(re)&&(!(re!==le&&le!==N.body)||De)&&re.focus({preventScroll:D}),X.remove()})}},[r,E,v,K,y,f,R,_,g,A,b]),d.useEffect(()=>{queueMicrotask(()=>{I.current=!1})},[r]),Z(()=>{if(!r&&x)return x.setFocusManagerState({modal:l,closeOnFocusOut:p,open:m,onOpenChange:h,refs:f}),()=>{x.setFocusManagerState(null)}},[r,x,l,m,h,f,p]),Z(()=>{if(r||!v||typeof MutationObserver!="function"||F)return;const D=()=>{const T=v.getAttribute("tabindex"),P=k(),V=xe(ue(E)),J=P.indexOf(V);J!==-1&&(B.current=J),W.current.includes("floating")||V!==f.domReference.current&&P.length===0?T!=="0"&&v.setAttribute("tabindex","0"):T!=="-1"&&v.setAttribute("tabindex","-1")};D();const N=new MutationObserver(D);return N.observe(v,{childList:!0,subtree:!0,attributes:!0}),()=>{N.disconnect()}},[r,E,v,f,W,k,F]);function te(D){return r||!a||!l?null:d.createElement(Vo,{ref:D==="start"?O:j,onClick:N=>h(!1,N.nativeEvent)},typeof a=="string"?a:"Dismiss")}const ve=!r&&$&&(l?!M:!0)&&(A||l);return d.createElement(d.Fragment,null,ve&&d.createElement(bt,{"data-type":"inside",ref:x==null?void 0:x.beforeInsideRef,onFocus:D=>{if(l){const T=z();Ie(o[0]==="reference"?T[0]:T[T.length-1])}else if(x!=null&&x.preserveTabOrder&&x.portalNode)if(I.current=!1,Ye(D,x.portalNode)){const T=Gn()||b;T==null||T.focus()}else{var N;(N=x.beforeOutsideRef.current)==null||N.focus()}}}),!M&&te("start"),n,te("end"),ve&&d.createElement(bt,{"data-type":"inside",ref:x==null?void 0:x.afterInsideRef,onFocus:D=>{if(l)Ie(z()[0]);else if(x!=null&&x.preserveTabOrder&&x.portalNode)if(p&&(I.current=!0),Ye(D,x.portalNode)){const T=Xn()||b;T==null||T.focus()}else{var N;(N=x.afterOutsideRef.current)==null||N.focus()}}}))}const $o={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},Ko={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},hn=e=>{var t,n;return{escapeKey:typeof e=="boolean"?e:(t=e==null?void 0:e.escapeKey)!=null?t:!1,outsidePress:typeof e=="boolean"?e:(n=e==null?void 0:e.outsidePress)!=null?n:!0}};function jo(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,elements:o,dataRef:i}=e,{enabled:s=!0,escapeKey:c=!0,outsidePress:u=!0,outsidePressEvent:l="pointerdown",referencePress:a=!1,referencePressEvent:p="pointerdown",ancestorScroll:m=!1,bubbles:f,capture:g}=t,h=It(),R=me(typeof u=="function"?u:()=>!1),y=typeof u=="function"?R:u,C=d.useRef(!1),b=d.useRef(!1),{escapeKey:E,outsidePress:F}=hn(f),{escapeKey:M,outsidePress:$}=hn(g),W=d.useRef(!1),q=me(I=>{var w;if(!n||!s||!c||I.key!=="Escape"||W.current)return;const B=(w=i.current.floatingContext)==null?void 0:w.nodeId,A=h?$e(h.nodesRef.current,B):[];if(!E&&(I.stopPropagation(),A.length>0)){let v=!0;if(A.forEach(k=>{var z;if((z=k.context)!=null&&z.open&&!k.context.dataRef.current.__escapeKeyBubbles){v=!1;return}}),!v)return}r(!1,ur(I)?I.nativeEvent:I,"escape-key")}),K=me(I=>{var w;const B=()=>{var A;q(I),(A=Le(I))==null||A.removeEventListener("keydown",B)};(w=Le(I))==null||w.addEventListener("keydown",B)}),_=me(I=>{var w;const B=C.current;C.current=!1;const A=b.current;if(b.current=!1,l==="click"&&A||B||typeof y=="function"&&!y(I))return;const v=Le(I),k="["+Xe("inert")+"]",z=ue(o.floating).querySelectorAll(k);let te=G(v)?v:null;for(;te&&!Fe(te);){const T=ye(te);if(Fe(T)||!G(T))break;te=T}if(z.length&&G(v)&&!fr(v)&&!oe(v,o.floating)&&Array.from(z).every(T=>!oe(te,T)))return;if(Q(v)&&j){const T=v.clientWidth>0&&v.scrollWidth>v.clientWidth,P=v.clientHeight>0&&v.scrollHeight>v.clientHeight;let V=P&&I.offsetX>v.clientWidth;if(P&&de(v).direction==="rtl"&&(V=I.offsetX<=v.offsetWidth-v.clientWidth),V||T&&I.offsetY>v.clientHeight)return}const ve=(w=i.current.floatingContext)==null?void 0:w.nodeId,D=h&&$e(h.nodesRef.current,ve).some(T=>{var P;return St(I,(P=T.context)==null?void 0:P.elements.floating)});if(St(I,o.floating)||St(I,o.domReference)||D)return;const N=h?$e(h.nodesRef.current,ve):[];if(N.length>0){let T=!0;if(N.forEach(P=>{var V;if((V=P.context)!=null&&V.open&&!P.context.dataRef.current.__outsidePressBubbles){T=!1;return}}),!T)return}r(!1,I,"outside-press")}),x=me(I=>{var w;const B=()=>{var A;_(I),(A=Le(I))==null||A.removeEventListener(l,B)};(w=Le(I))==null||w.addEventListener(l,B)});d.useEffect(()=>{if(!n||!s)return;i.current.__escapeKeyBubbles=E,i.current.__outsidePressBubbles=F;let I=-1;function w(z){r(!1,z,"ancestor-scroll")}function B(){window.clearTimeout(I),W.current=!0}function A(){I=window.setTimeout(()=>{W.current=!1},yt()?5:0)}const v=ue(o.floating);c&&(v.addEventListener("keydown",M?K:q,M),v.addEventListener("compositionstart",B),v.addEventListener("compositionend",A)),y&&v.addEventListener(l,$?x:_,$);let k=[];return m&&(G(o.domReference)&&(k=Ae(o.domReference)),G(o.floating)&&(k=k.concat(Ae(o.floating))),!G(o.reference)&&o.reference&&o.reference.contextElement&&(k=k.concat(Ae(o.reference.contextElement)))),k=k.filter(z=>{var te;return z!==((te=v.defaultView)==null?void 0:te.visualViewport)}),k.forEach(z=>{z.addEventListener("scroll",w,{passive:!0})}),()=>{c&&(v.removeEventListener("keydown",M?K:q,M),v.removeEventListener("compositionstart",B),v.removeEventListener("compositionend",A)),y&&v.removeEventListener(l,$?x:_,$),k.forEach(z=>{z.removeEventListener("scroll",w)}),window.clearTimeout(I)}},[i,o,c,y,l,n,r,m,s,E,F,q,M,K,_,$,x]),d.useEffect(()=>{C.current=!1},[y,l]);const O=d.useMemo(()=>({onKeyDown:q,[$o[p]]:I=>{a&&r(!1,I.nativeEvent,"reference-press")}}),[q,r,a,p]),j=d.useMemo(()=>({onKeyDown:q,onMouseDown(){b.current=!0},onMouseUp(){b.current=!0},[Ko[l]]:()=>{C.current=!0}}),[q,l]);return d.useMemo(()=>s?{reference:O,floating:j}:{},[s,O,j])}function qo(e){const{open:t=!1,onOpenChange:n,elements:r}=e,o=Ct(),i=d.useRef({}),[s]=d.useState(()=>Ao()),c=Ut()!=null,[u,l]=d.useState(r.reference),a=me((f,g,h)=>{i.current.openEvent=f?g:void 0,s.emit("openchange",{open:f,event:g,reason:h,nested:c}),n==null||n(f,g,h)}),p=d.useMemo(()=>({setPositionReference:l}),[]),m=d.useMemo(()=>({reference:u||r.reference||null,floating:r.floating||null,domReference:r.reference}),[u,r.reference,r.floating]);return d.useMemo(()=>({dataRef:i,open:t,onOpenChange:a,elements:m,events:s,floatingId:o,refs:p}),[t,a,m,s,o,p])}function Ho(e){e===void 0&&(e={});const{nodeId:t}=e,n=qo({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,o=r.elements,[i,s]=d.useState(null),[c,u]=d.useState(null),a=(o==null?void 0:o.domReference)||i,p=d.useRef(null),m=It();Z(()=>{a&&(p.current=a)},[a]);const f=po({...e,elements:{...o,...c&&{reference:c}}}),g=d.useCallback(b=>{const E=G(b)?{getBoundingClientRect:()=>b.getBoundingClientRect(),contextElement:b}:b;u(E),f.refs.setReference(E)},[f.refs]),h=d.useCallback(b=>{(G(b)||b===null)&&(p.current=b,s(b)),(G(f.refs.reference.current)||f.refs.reference.current===null||b!==null&&!G(b))&&f.refs.setReference(b)},[f.refs]),R=d.useMemo(()=>({...f.refs,setReference:h,setPositionReference:g,domReference:p}),[f.refs,h,g]),y=d.useMemo(()=>({...f.elements,domReference:a}),[f.elements,a]),C=d.useMemo(()=>({...f,...r,refs:R,elements:y,nodeId:t}),[f,R,y,t,r]);return Z(()=>{r.dataRef.current.floatingContext=C;const b=m==null?void 0:m.nodesRef.current.find(E=>E.id===t);b&&(b.context=C)}),d.useMemo(()=>({...f,context:C,refs:R,elements:y}),[f,R,y,C])}const bn="active",vn="selected";function kt(e,t,n){const r=new Map,o=n==="item";let i=e;if(o&&e){const{[bn]:s,[vn]:c,...u}=e;i=u}return{...n==="floating"&&{tabIndex:-1,[Kt]:""},...i,...t.map(s=>{const c=s?s[n]:null;return typeof c=="function"?e?c(e):null:c}).concat(e).reduce((s,c)=>(c&&Object.entries(c).forEach(u=>{let[l,a]=u;if(!(o&&[bn,vn].includes(l)))if(l.indexOf("on")===0){if(r.has(l)||r.set(l,[]),typeof a=="function"){var p;(p=r.get(l))==null||p.push(a),s[l]=function(){for(var m,f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(m=r.get(l))==null?void 0:m.map(R=>R(...g)).find(R=>R!==void 0)}}}else s[l]=a}),s),{})}}function zo(e){e===void 0&&(e=[]);const t=e.map(c=>c==null?void 0:c.reference),n=e.map(c=>c==null?void 0:c.floating),r=e.map(c=>c==null?void 0:c.item),o=d.useCallback(c=>kt(c,e,"reference"),t),i=d.useCallback(c=>kt(c,e,"floating"),n),s=d.useCallback(c=>kt(c,e,"item"),r);return d.useMemo(()=>({getReferenceProps:o,getFloatingProps:i,getItemProps:s}),[o,i,s])}let xn=!1;function At(e,t,n){switch(e){case"vertical":return t;case"horizontal":return n;default:return t||n}}function yn(e,t){return At(t,e===zt||e===et,e===Se||e===Oe)}function Lt(e,t,n){return At(t,e===et,n?e===Se:e===Oe)||e==="Enter"||e===" "||e===""}function Uo(e,t,n){return At(t,n?e===Se:e===Oe,e===et)}function wn(e,t,n){return At(t,n?e===Oe:e===Se,e===zt)}function Yo(e,t){const{open:n,onOpenChange:r,elements:o}=e,{listRef:i,activeIndex:s,onNavigate:c=()=>{},enabled:u=!0,selectedIndex:l=null,allowEscape:a=!1,loop:p=!1,nested:m=!1,rtl:f=!1,virtual:g=!1,focusItemOnOpen:h="auto",focusItemOnHover:R=!0,openOnArrowKeyDown:y=!0,disabledIndices:C=void 0,orientation:b="vertical",cols:E=1,scrollItemIntoView:F=!0,virtualItemRef:M,itemSizes:$,dense:W=!1}=t,q=Qn(o.floating),K=Te(q),_=Ut(),x=It(),O=me(c),j=Vt(o.domReference),I=d.useRef(h),w=d.useRef(l??-1),B=d.useRef(null),A=d.useRef(!0),v=d.useRef(O),k=d.useRef(!!o.floating),z=d.useRef(n),te=d.useRef(!1),ve=d.useRef(!1),D=Te(C),N=Te(n),T=Te(F),P=Te(l),[V,J]=d.useState(),[X,ie]=d.useState(),le=me(function(L,U,S){S===void 0&&(S=!1);function H(Y){g?(J(Y.id),x==null||x.events.emit("virtualfocus",Y),M&&(M.current=Y)):Ie(Y,{preventScroll:!0,sync:lr()&&Dn()?xn||te.current:!1})}const ae=L.current[U.current];ae&&H(ae),requestAnimationFrame(()=>{const Y=L.current[U.current]||ae;if(!Y)return;ae||H(Y);const pe=T.current;pe&&we&&(S||!A.current)&&(Y.scrollIntoView==null||Y.scrollIntoView(typeof pe=="boolean"?{block:"nearest",inline:"nearest"}:pe))})});Z(()=>{document.createElement("div").focus({get preventScroll(){return xn=!0,!1}})},[]),Z(()=>{u&&(n&&o.floating?I.current&&l!=null&&(ve.current=!0,w.current=l,O(l)):k.current&&(w.current=-1,v.current(null)))},[u,n,o.floating,l,O]),Z(()=>{if(u&&n&&o.floating)if(s==null){if(te.current=!1,P.current!=null)return;if(k.current&&(w.current=-1,le(i,w)),(!z.current||!k.current)&&I.current&&(B.current!=null||I.current===!0&&B.current==null)){let L=0;const U=()=>{i.current[0]==null?(L<2&&(L?requestAnimationFrame:queueMicrotask)(U),L++):(w.current=B.current==null||Lt(B.current,b,f)||m?Mt(i,D.current):sn(i,D.current),B.current=null,O(w.current))};U()}}else Ue(i,s)||(w.current=s,le(i,w,ve.current),ve.current=!1)},[u,n,o.floating,s,P,m,i,b,f,O,le,D]),Z(()=>{var L;if(!u||o.floating||!x||g||!k.current)return;const U=x.nodesRef.current,S=(L=U.find(Y=>Y.id===_))==null||(L=L.context)==null?void 0:L.elements.floating,H=xe(ue(o.floating)),ae=U.some(Y=>Y.context&&oe(Y.context.elements.floating,H));S&&!ae&&A.current&&S.focus({preventScroll:!0})},[u,o.floating,x,_,g]),Z(()=>{if(!u||!x||!g||_)return;function L(U){ie(U.id),M&&(M.current=U)}return x.events.on("virtualfocus",L),()=>{x.events.off("virtualfocus",L)}},[u,x,g,_,M]),Z(()=>{v.current=O,k.current=!!o.floating}),Z(()=>{n||(B.current=null)},[n]),Z(()=>{z.current=n},[n]);const De=s!=null,we=d.useMemo(()=>{function L(S){if(!n)return;const H=i.current.indexOf(S);H!==-1&&O(H)}return{onFocus(S){let{currentTarget:H}=S;L(H)},onClick:S=>{let{currentTarget:H}=S;return H.focus({preventScroll:!0})},...R&&{onMouseMove(S){let{currentTarget:H}=S;L(H)},onPointerLeave(S){let{pointerType:H}=S;!A.current||H==="touch"||(w.current=-1,le(i,w),O(null),g||Ie(K.current,{preventScroll:!0}))}}}},[n,K,le,R,i,O,g]),re=me(L=>{if(A.current=!1,te.current=!0,L.which===229||!N.current&&L.currentTarget===K.current)return;if(m&&wn(L.key,b,f)){ne(L),r(!1,L.nativeEvent,"list-navigation"),Q(o.domReference)&&(g?x==null||x.events.emit("virtualfocus",o.domReference):o.domReference.focus());return}const U=w.current,S=Mt(i,C),H=sn(i,C);if(j||(L.key==="Home"&&(ne(L),w.current=S,O(w.current)),L.key==="End"&&(ne(L),w.current=H,O(w.current))),E>1){const ae=$||Array.from({length:i.current.length},()=>({width:1,height:1})),Y=wo(ae,E,W),pe=Y.findIndex(ge=>ge!=null&&!lt(i.current,ge,C)),He=Y.reduce((ge,Ee,tt)=>Ee!=null&&!lt(i.current,Ee,C)?tt:ge,-1),Pe=Y[yo({current:Y.map(ge=>ge!=null?i.current[ge]:null)},{event:L,orientation:b,loop:p,rtl:f,cols:E,disabledIndices:Eo([...C||i.current.map((ge,Ee)=>lt(i.current,Ee)?Ee:void 0),void 0],Y),minIndex:pe,maxIndex:He,prevIndex:Ro(w.current>H?S:w.current,ae,Y,E,L.key===et?"bl":L.key===(f?Se:Oe)?"tr":"tl"),stopEvent:!0})];if(Pe!=null&&(w.current=Pe,O(w.current)),b==="both")return}if(yn(L.key,b)){if(ne(L),n&&!g&&xe(L.currentTarget.ownerDocument)===L.currentTarget){w.current=Lt(L.key,b,f)?S:H,O(w.current);return}Lt(L.key,b,f)?p?w.current=U>=H?a&&U!==i.current.length?-1:S:ee(i,{startingIndex:U,disabledIndices:C}):w.current=Math.min(H,ee(i,{startingIndex:U,disabledIndices:C})):p?w.current=U<=S?a&&U!==-1?i.current.length:H:ee(i,{startingIndex:U,decrement:!0,disabledIndices:C}):w.current=Math.max(S,ee(i,{startingIndex:U,decrement:!0,disabledIndices:C})),Ue(i,w.current)?O(null):O(w.current)}}),Re=d.useMemo(()=>g&&n&&De&&{"aria-activedescendant":X||V},[g,n,De,X,V]),qe=d.useMemo(()=>({"aria-orientation":b==="both"?void 0:b,...!Vt(o.domReference)&&Re,onKeyDown:re,onPointerMove(){A.current=!0}}),[Re,re,o.domReference,b]),Gt=d.useMemo(()=>{function L(S){h==="auto"&&Fn(S.nativeEvent)&&(I.current=!0)}function U(S){I.current=h,h==="auto"&&Mn(S.nativeEvent)&&(I.current=!0)}return{...Re,onKeyDown(S){A.current=!1;const H=S.key.startsWith("Arrow"),ae=["Home","End"].includes(S.key),Y=H||ae,pe=Uo(S.key,b,f),He=wn(S.key,b,f),Pe=yn(S.key,b),ge=(m?pe:Pe)||S.key==="Enter"||S.key.trim()==="";if(g&&n){const Zt=x==null?void 0:x.nodesRef.current.find(nt=>nt.parentId==null),Ce=x&&Zt?Mo(x.nodesRef.current,Zt.id):null;if(Y&&Ce&&M){const nt=new KeyboardEvent("keydown",{key:S.key,bubbles:!0});if(pe||He){var Ee,tt;const nr=((Ee=Ce.context)==null?void 0:Ee.elements.domReference)===S.currentTarget,Jt=He&&!nr?(tt=Ce.context)==null?void 0:tt.elements.domReference:pe?i.current.find(Qt=>(Qt==null?void 0:Qt.id)===V):null;Jt&&(ne(S),Jt.dispatchEvent(nt),ie(void 0))}if((Pe||ae)&&Ce.context&&Ce.context.open&&Ce.parentId&&S.currentTarget!==Ce.context.elements.domReference){var Xt;ne(S),(Xt=Ce.context.elements.domReference)==null||Xt.dispatchEvent(nt);return}}return re(S)}if(!(!n&&!y&&H)){if(ge&&(B.current=m&&Pe?null:S.key),m){pe&&(ne(S),n?(w.current=Mt(i,D.current),O(w.current)):r(!0,S.nativeEvent,"list-navigation"));return}Pe&&(l!=null&&(w.current=l),ne(S),!n&&y?r(!0,S.nativeEvent,"list-navigation"):re(S),n&&O(w.current))}},onFocus(){n&&!g&&O(null)},onPointerDown:U,onMouseDown:L,onClick:L}},[V,Re,re,D,h,i,m,O,r,n,y,b,f,l,x,g,M]);return d.useMemo(()=>u?{reference:Gt,floating:qe,item:we}:{},[u,Gt,qe,we])}const Go=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function Xo(e,t){var n;t===void 0&&(t={});const{open:r,floatingId:o}=e,{enabled:i=!0,role:s="dialog"}=t,c=(n=Go.get(s))!=null?n:s,u=Ct(),a=Ut()!=null,p=d.useMemo(()=>c==="tooltip"||s==="label"?{["aria-"+(s==="label"?"labelledby":"describedby")]:r?o:void 0}:{"aria-expanded":r?"true":"false","aria-haspopup":c==="alertdialog"?"dialog":c,"aria-controls":r?o:void 0,...c==="listbox"&&{role:"combobox"},...c==="menu"&&{id:u},...c==="menu"&&a&&{role:"menuitem"},...s==="select"&&{"aria-autocomplete":"none"},...s==="combobox"&&{"aria-autocomplete":"list"}},[c,o,a,r,u,s]),m=d.useMemo(()=>{const g={id:o,...c&&{role:c}};return c==="tooltip"||s==="label"?g:{...g,...c==="menu"&&{"aria-labelledby":u}}},[c,o,u,s]),f=d.useCallback(g=>{let{active:h,selected:R}=g;const y={role:"option",...h&&{id:o+"-option"}};switch(s){case"select":return{...y,"aria-selected":h&&R};case"combobox":return{...y,...h&&{"aria-selected":!0}}}return{}},[o,s]);return d.useMemo(()=>i?{reference:p,floating:m,item:f}:{},[i,p,m,f])}const Zo="_ComboBox_16kcx_8",Jo="_ComboBoxList_16kcx_24",Qo="_ComboBoxItem_16kcx_39",ei="_ComboBoxItemActive_16kcx_49",st={ComboBox:Zo,ComboBoxList:Jo,ComboBoxItem:Qo,ComboBoxItemActive:ei};function er(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=er(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function ti(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=er(e))&&(r&&(r+=" "),r+=t);return r}const tr=d.forwardRef(({children:e,active:t,className:n,activeClassName:r,...o},i)=>{const s=Ct();return se.jsx("div",{className:ti(n,{[r]:t}),ref:i,role:"option",id:s,"aria-selected":t,...o,style:{...o.style},children:e})});tr.__docgenInfo={description:"",methods:[],displayName:"ComboBoxItem",props:{children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},active:{required:!0,tsType:{name:"boolean"},description:""},className:{required:!1,tsType:{name:"string"},description:""},activeClassName:{required:!1,tsType:{name:"string"},description:""}}};const ni=["1","2","3"],ri={ComboBox:st.ComboBox,ComboBoxList:st.ComboBoxList,ComboBoxItem:st.ComboBoxItem,ComboBoxActive:st.ComboBoxItemActive},Yt=({classNames:e={},suppressDefaultClassNames:t=!1,placement:n,offsetMainAxis:r=8,offsetAlignmentAxis:o,offsetCrossAxis:i,openOnFocus:s=!1,...c})=>{const u=Object.assign({},t?{}:ri,e),[l,a]=d.useState(!1),[p,m]=d.useState(""),[f,g]=d.useState(null),h=d.useRef(null),R=d.useRef([]),{refs:y,floatingStyles:C,context:b}=Ho({whileElementsMounted:lo,open:l,onOpenChange:a,placement:n,middleware:[go({mainAxis:r,alignmentAxis:o,crossAxis:i}),ho({padding:16}),bo({apply({rects:x,availableHeight:O,elements:j}){Object.assign(j.floating.style,{width:`${x.reference.width}px`,maxHeight:`${O}px`})},padding:16})]}),E=Xo(b,{role:"listbox"}),F=jo(b),M=Yo(b,{listRef:R,activeIndex:f,onNavigate:g,virtual:!0,loop:!1}),{getReferenceProps:$,getFloatingProps:W,getItemProps:q}=zo([E,F,M]);function K(x){const O=x.target.value;m(O),O?(a(!0),g(0)):a(!1)}const _=ni.filter(x=>x.toLowerCase().startsWith(p.toLowerCase()));return se.jsxs(se.Fragment,{children:[se.jsxs("div",{ref:y.setReference,className:u.ComboBox,children:[se.jsx(or,{ref:h,...$({...c,onChange:K,value:p,"aria-autocomplete":"list",onFocus(){s&&a(!0)},onKeyDown(x){x.key==="Enter"&&f!=null&&_[f]&&(m(_[f]),g(null),a(!1))}})}),se.jsx(ir,{onClick:()=>{var x;a(!l),(x=h.current)==null||x.focus()},children:"↓"})]}),se.jsx(_o,{children:l&&se.jsx(Wo,{context:b,initialFocus:-1,visuallyHiddenDismiss:!0,children:se.jsx("div",{...W({className:u.ComboBoxList,ref:y.setFloating,style:{...C}}),children:_.map((x,O)=>se.jsx(tr,{className:u.ComboBoxItem,activeClassName:u.ComboBoxActive,...q({ref(j){R.current[O]=j},onClick(){var j;m(x),a(!1),(j=y.domReference.current)==null||j.focus()}}),active:f===O,children:x},x))})})})]})};Yt.__docgenInfo={description:"",methods:[],displayName:"ComboBox",props:{classNames:{required:!1,tsType:{name:"defaultClassNames"},description:"",defaultValue:{value:"{}",computed:!1}},suppressDefaultClassNames:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},placement:{required:!1,tsType:{name:"Placement"},description:""},offsetMainAxis:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"8",computed:!1}},offsetAlignmentAxis:{required:!1,tsType:{name:"number"},description:""},offsetCrossAxis:{required:!1,tsType:{name:"number"},description:""},openOnFocus:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}},composes:["InputHTMLAttributes"]};const ai={title:"ComboBox",component:Yt,tags:["autodocs"],parameters:{layout:"centered"},args:{}},ze=()=>se.jsx(se.Fragment,{children:se.jsx(Yt,{})});ze.__docgenInfo={description:"",methods:[],displayName:"Default"};var Rn,En,Cn;ze.parameters={...ze.parameters,docs:{...(Rn=ze.parameters)==null?void 0:Rn.docs,source:{originalSource:`() => {
  return <>
      <ComboBox />
    </>;
}`,...(Cn=(En=ze.parameters)==null?void 0:En.docs)==null?void 0:Cn.source}}};const ui=["Default"];export{ze as Default,ui as __namedExportsOrder,ai as default};
