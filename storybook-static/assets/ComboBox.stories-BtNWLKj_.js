import{j as oe}from"./jsx-runtime-DR9Q75dM.js";import{r as d,a as lr}from"./index-DRjF_FHU.js";import{r as On}from"./index-rX-Bn4lm.js";import{I as ur}from"./InputText-CCBCWc8-.js";import{B as ar}from"./Button-DDx4WbKH.js";function fr(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.filter(Boolean);if(n.length<=1){var r=n[0];return r||null}return function(s){n.forEach(function(i){typeof i=="function"?i(s):i&&(i.current=s)})}}function dr(){var e=d.useRef(!0);return e.current?(e.current=!1,!0):e.current}var en=function(e,t){var n=dr();d.useEffect(function(){if(!n)return e()},t)};function bt(){return typeof window<"u"}function De(e){return kn(e)?(e.nodeName||"").toLowerCase():"#document"}function ce(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ve(e){var t;return(t=(kn(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function kn(e){return bt()?e instanceof Node||e instanceof ce(e).Node:!1}function G(e){return bt()?e instanceof Element||e instanceof ce(e).Element:!1}function J(e){return bt()?e instanceof HTMLElement||e instanceof ce(e).HTMLElement:!1}function Lt(e){return!bt()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ce(e).ShadowRoot}function Qe(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=de(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function mr(e){return["table","td","th"].includes(De(e))}function xt(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function qt(e){const t=yt(),n=G(e)?de(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function pr(e){let t=ye(e);for(;J(t)&&!ke(t);){if(qt(t))return t;if(xt(t))return null;t=ye(t)}return null}function yt(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ke(e){return["html","body","#document"].includes(De(e))}function de(e){return ce(e).getComputedStyle(e)}function wt(e){return G(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ye(e){if(De(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Lt(e)&&e.host||ve(e);return Lt(t)?t.host:t}function Dn(e){const t=ye(e);return ke(t)?e.ownerDocument?e.ownerDocument.body:e.body:J(t)&&Qe(t)?t:Dn(t)}function Ae(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=Dn(e),s=o===((r=e.ownerDocument)==null?void 0:r.body),i=ce(o);if(s){const c=Bt(i);return t.concat(i,i.visualViewport||[],Qe(o)?o:[],c&&n?Ae(c):[])}return t.concat(o,Ae(o,[],n))}function Bt(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function xe(e){let t=e.activeElement;for(;((n=t)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;t=t.shadowRoot.activeElement}return t}function ie(e,t){if(!e||!t)return!1;const n=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&Lt(n)){let r=t;for(;r;){if(e===r)return!0;r=r.parentNode||r.host}}return!1}function Mn(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function Pn(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}function Fn(e){return e.mozInputSource===0&&e.isTrusted?!0:_t()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function Nn(e){return hr()?!1:!_t()&&e.width===0&&e.height===0||_t()&&e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0&&e.pointerType==="touch"}function Ln(){return/apple/i.test(navigator.vendor)}function _t(){const e=/android/i;return e.test(Mn())||e.test(Pn())}function gr(){return Mn().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function hr(){return Pn().includes("jsdom/")}function tn(e,t){return["mouse","pen"].includes(e)}function vr(e){return"nativeEvent"in e}function br(e){return e.matches("html,body")}function ae(e){return(e==null?void 0:e.ownerDocument)||document}function St(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}function Ne(e){return"composedPath"in e?e.composedPath()[0]:e.target}const xr="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function Bn(e){return J(e)&&e.matches(xr)}function ne(e){e.preventDefault(),e.stopPropagation()}function Vt(e){return e?e.getAttribute("role")==="combobox"&&Bn(e):!1}const Xe=Math.min,fe=Math.max,ut=Math.round,Ve=Math.floor,he=e=>({x:e,y:e}),yr={left:"right",right:"left",bottom:"top",top:"bottom"},wr={start:"end",end:"start"};function Rt(e,t){return typeof e=="function"?e(t):e}function Le(e){return e.split("-")[0]}function et(e){return e.split("-")[1]}function Rr(e){return e==="x"?"y":"x"}function _n(e){return e==="y"?"height":"width"}function $e(e){return["top","bottom"].includes(Le(e))?"y":"x"}function Vn(e){return Rr($e(e))}function Er(e,t,n){n===void 0&&(n=!1);const r=et(e),o=Vn(e),s=_n(o);let i=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(i=at(i)),[i,at(i)]}function Cr(e){const t=at(e);return[Wt(e),t,Wt(t)]}function Wt(e){return e.replace(/start|end/g,t=>wr[t])}function Ir(e,t,n){const r=["left","right"],o=["right","left"],s=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?s:i;default:return[]}}function Tr(e,t,n,r){const o=et(e);let s=Ir(Le(e),n==="start",r);return o&&(s=s.map(i=>i+"-"+o),t&&(s=s.concat(s.map(Wt)))),s}function at(e){return e.replace(/left|right|bottom|top/g,t=>yr[t])}function Ar(e){return{top:0,right:0,bottom:0,left:0,...e}}function Sr(e){return typeof e!="number"?Ar(e):{top:e,right:e,bottom:e,left:e}}function ft(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var Or=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],dt=Or.join(","),Wn=typeof Element>"u",qe=Wn?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,mt=!Wn&&Element.prototype.getRootNode?function(e){var t;return e==null||(t=e.getRootNode)===null||t===void 0?void 0:t.call(e)}:function(e){return e==null?void 0:e.ownerDocument},pt=function e(t,n){var r;n===void 0&&(n=!0);var o=t==null||(r=t.getAttribute)===null||r===void 0?void 0:r.call(t,"inert"),s=o===""||o==="true",i=s||n&&t&&e(t.parentNode);return i},kr=function(t){var n,r=t==null||(n=t.getAttribute)===null||n===void 0?void 0:n.call(t,"contenteditable");return r===""||r==="true"},Dr=function(t,n,r){if(pt(t))return[];var o=Array.prototype.slice.apply(t.querySelectorAll(dt));return n&&qe.call(t,dt)&&o.unshift(t),o=o.filter(r),o},Mr=function e(t,n,r){for(var o=[],s=Array.from(t);s.length;){var i=s.shift();if(!pt(i,!1))if(i.tagName==="SLOT"){var c=i.assignedElements(),u=c.length?c:i.children,l=e(u,!0,r);r.flatten?o.push.apply(o,l):o.push({scopeParent:i,candidates:l})}else{var a=qe.call(i,dt);a&&r.filter(i)&&(n||!t.includes(i))&&o.push(i);var g=i.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(i),m=!pt(g,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(i));if(g&&m){var f=e(g===!0?i.children:g.children,!0,r);r.flatten?o.push.apply(o,f):o.push({scopeParent:i,candidates:f})}else s.unshift.apply(s,i.children)}}return o},Kn=function(t){return!isNaN(parseInt(t.getAttribute("tabindex"),10))},$n=function(t){if(!t)throw new Error("No node provided");return t.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||kr(t))&&!Kn(t)?0:t.tabIndex},Pr=function(t,n){var r=$n(t);return r<0&&n&&!Kn(t)?0:r},Fr=function(t,n){return t.tabIndex===n.tabIndex?t.documentOrder-n.documentOrder:t.tabIndex-n.tabIndex},qn=function(t){return t.tagName==="INPUT"},Nr=function(t){return qn(t)&&t.type==="hidden"},Lr=function(t){var n=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(r){return r.tagName==="SUMMARY"});return n},Br=function(t,n){for(var r=0;r<t.length;r++)if(t[r].checked&&t[r].form===n)return t[r]},_r=function(t){if(!t.name)return!0;var n=t.form||mt(t),r=function(c){return n.querySelectorAll('input[type="radio"][name="'+c+'"]')},o;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")o=r(window.CSS.escape(t.name));else try{o=r(t.name)}catch(i){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",i.message),!1}var s=Br(o,t.form);return!s||s===t},Vr=function(t){return qn(t)&&t.type==="radio"},Wr=function(t){return Vr(t)&&!_r(t)},Kr=function(t){var n,r=t&&mt(t),o=(n=r)===null||n===void 0?void 0:n.host,s=!1;if(r&&r!==t){var i,c,u;for(s=!!((i=o)!==null&&i!==void 0&&(c=i.ownerDocument)!==null&&c!==void 0&&c.contains(o)||t!=null&&(u=t.ownerDocument)!==null&&u!==void 0&&u.contains(t));!s&&o;){var l,a,g;r=mt(o),o=(l=r)===null||l===void 0?void 0:l.host,s=!!((a=o)!==null&&a!==void 0&&(g=a.ownerDocument)!==null&&g!==void 0&&g.contains(o))}}return s},nn=function(t){var n=t.getBoundingClientRect(),r=n.width,o=n.height;return r===0&&o===0},$r=function(t,n){var r=n.displayCheck,o=n.getShadowRoot;if(getComputedStyle(t).visibility==="hidden")return!0;var s=qe.call(t,"details>summary:first-of-type"),i=s?t.parentElement:t;if(qe.call(i,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof o=="function"){for(var c=t;t;){var u=t.parentElement,l=mt(t);if(u&&!u.shadowRoot&&o(u)===!0)return nn(t);t.assignedSlot?t=t.assignedSlot:!u&&l!==t.ownerDocument?t=l.host:t=u}t=c}if(Kr(t))return!t.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return nn(t);return!1},qr=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var n=t.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var o=n.children.item(r);if(o.tagName==="LEGEND")return qe.call(n,"fieldset[disabled] *")?!0:!o.contains(t)}return!0}n=n.parentElement}return!1},jr=function(t,n){return!(n.disabled||pt(n)||Nr(n)||$r(n,t)||Lr(n)||qr(n))},Kt=function(t,n){return!(Wr(n)||$n(n)<0||!jr(t,n))},Hr=function(t){var n=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},zr=function e(t){var n=[],r=[];return t.forEach(function(o,s){var i=!!o.scopeParent,c=i?o.scopeParent:o,u=Pr(c,i),l=i?e(o.candidates):c;u===0?i?n.push.apply(n,l):n.push(c):r.push({documentOrder:s,tabIndex:u,item:o,isScope:i,content:l})}),r.sort(Fr).reduce(function(o,s){return s.isScope?o.push.apply(o,s.content):o.push(s.content),o},[]).concat(n)},Et=function(t,n){n=n||{};var r;return n.getShadowRoot?r=Mr([t],n.includeContainer,{filter:Kt.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:Hr}):r=Dr(t,n.includeContainer,Kt.bind(null,n)),zr(r)},Ur=function(t,n){if(n=n||{},!t)throw new Error("No node provided");return qe.call(t,dt)===!1?!1:Kt(n,t)};function rn(e,t,n){let{reference:r,floating:o}=e;const s=$e(t),i=Vn(t),c=_n(i),u=Le(t),l=s==="y",a=r.x+r.width/2-o.width/2,g=r.y+r.height/2-o.height/2,m=r[c]/2-o[c]/2;let f;switch(u){case"top":f={x:a,y:r.y-o.height};break;case"bottom":f={x:a,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:g};break;case"left":f={x:r.x-o.width,y:g};break;default:f={x:r.x,y:r.y}}switch(et(t)){case"start":f[i]-=m*(n&&l?-1:1);break;case"end":f[i]+=m*(n&&l?-1:1);break}return f}const Yr=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:s=[],platform:i}=n,c=s.filter(Boolean),u=await(i.isRTL==null?void 0:i.isRTL(t));let l=await i.getElementRects({reference:e,floating:t,strategy:o}),{x:a,y:g}=rn(l,r,u),m=r,f={},h=0;for(let p=0;p<c.length;p++){const{name:w,fn:x}=c[p],{x:I,y:b,data:R,reset:k}=await x({x:a,y:g,initialPlacement:r,placement:m,strategy:o,middlewareData:f,rects:l,platform:i,elements:{reference:e,floating:t}});a=I??a,g=b??g,f={...f,[w]:{...f[w],...R}},k&&h<=50&&(h++,typeof k=="object"&&(k.placement&&(m=k.placement),k.rects&&(l=k.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:o}):k.rects),{x:a,y:g}=rn(l,m,u)),p=-1)}return{x:a,y:g,placement:m,strategy:o,middlewareData:f}};async function jn(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:s,rects:i,elements:c,strategy:u}=e,{boundary:l="clippingAncestors",rootBoundary:a="viewport",elementContext:g="floating",altBoundary:m=!1,padding:f=0}=Rt(t,e),h=Sr(f),w=c[m?g==="floating"?"reference":"floating":g],x=ft(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(w)))==null||n?w:w.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(c.floating)),boundary:l,rootBoundary:a,strategy:u})),I=g==="floating"?{x:r,y:o,width:i.floating.width,height:i.floating.height}:i.reference,b=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c.floating)),R=await(s.isElement==null?void 0:s.isElement(b))?await(s.getScale==null?void 0:s.getScale(b))||{x:1,y:1}:{x:1,y:1},k=ft(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:I,offsetParent:b,strategy:u}):I);return{top:(x.top-k.top+h.top)/R.y,bottom:(k.bottom-x.bottom+h.bottom)/R.y,left:(x.left-k.left+h.left)/R.x,right:(k.right-x.right+h.right)/R.x}}const Gr=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:s,rects:i,initialPlacement:c,platform:u,elements:l}=t,{mainAxis:a=!0,crossAxis:g=!0,fallbackPlacements:m,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:p=!0,...w}=Rt(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const x=Le(o),I=$e(c),b=Le(c)===c,R=await(u.isRTL==null?void 0:u.isRTL(l.floating)),k=m||(b||!p?[at(c)]:Cr(c)),D=h!=="none";!m&&D&&k.push(...Tr(c,p,h,R));const _=[c,...k],W=await jn(t,w),q=[];let $=((r=s.flip)==null?void 0:r.overflows)||[];if(a&&q.push(W[x]),g){const Y=Er(o,i,R);q.push(W[Y[0]],W[Y[1]])}if($=[...$,{placement:o,overflows:q}],!q.every(Y=>Y<=0)){var K,E;const Y=(((K=s.flip)==null?void 0:K.index)||0)+1,A=_[Y];if(A)return{data:{index:Y,overflows:$},reset:{placement:A}};let y=(E=$.filter(T=>T.overflows[0]<=0).sort((T,C)=>T.overflows[1]-C.overflows[1])[0])==null?void 0:E.placement;if(!y)switch(f){case"bestFit":{var F;const T=(F=$.filter(C=>{if(D){const v=$e(C.placement);return v===I||v==="y"}return!0}).map(C=>[C.placement,C.overflows.filter(v=>v>0).reduce((v,N)=>v+N,0)]).sort((C,v)=>C[1]-v[1])[0])==null?void 0:F[0];T&&(y=T);break}case"initialPlacement":y=c;break}if(o!==y)return{reset:{placement:y}}}return{}}}};async function Xr(e,t){const{placement:n,platform:r,elements:o}=e,s=await(r.isRTL==null?void 0:r.isRTL(o.floating)),i=Le(n),c=et(n),u=$e(n)==="y",l=["left","top"].includes(i)?-1:1,a=s&&u?-1:1,g=Rt(t,e);let{mainAxis:m,crossAxis:f,alignmentAxis:h}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return c&&typeof h=="number"&&(f=c==="end"?h*-1:h),u?{x:f*a,y:m*l}:{x:m*l,y:f*a}}const Zr=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:s,placement:i,middlewareData:c}=t,u=await Xr(t,e);return i===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:o+u.x,y:s+u.y,data:{...u,placement:i}}}}},Jr=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:o,rects:s,platform:i,elements:c}=t,{apply:u=()=>{},...l}=Rt(e,t),a=await jn(t,l),g=Le(o),m=et(o),f=$e(o)==="y",{width:h,height:p}=s.floating;let w,x;g==="top"||g==="bottom"?(w=g,x=m===(await(i.isRTL==null?void 0:i.isRTL(c.floating))?"start":"end")?"left":"right"):(x=g,w=m==="end"?"top":"bottom");const I=p-a.top-a.bottom,b=h-a.left-a.right,R=Xe(p-a[w],I),k=Xe(h-a[x],b),D=!t.middlewareData.shift;let _=R,W=k;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(W=b),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(_=I),D&&!m){const $=fe(a.left,0),K=fe(a.right,0),E=fe(a.top,0),F=fe(a.bottom,0);f?W=h-2*($!==0||K!==0?$+K:fe(a.left,a.right)):_=p-2*(E!==0||F!==0?E+F:fe(a.top,a.bottom))}await u({...t,availableWidth:W,availableHeight:_});const q=await i.getDimensions(c.floating);return h!==q.width||p!==q.height?{reset:{rects:!0}}:{}}}};function Hn(e){const t=de(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=J(e),s=o?e.offsetWidth:n,i=o?e.offsetHeight:r,c=ut(n)!==s||ut(r)!==i;return c&&(n=s,r=i),{width:n,height:r,$:c}}function jt(e){return G(e)?e:e.contextElement}function We(e){const t=jt(e);if(!J(t))return he(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:s}=Hn(t);let i=(s?ut(n.width):n.width)/r,c=(s?ut(n.height):n.height)/o;return(!i||!Number.isFinite(i))&&(i=1),(!c||!Number.isFinite(c))&&(c=1),{x:i,y:c}}const Qr=he(0);function zn(e){const t=ce(e);return!yt()||!t.visualViewport?Qr:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function eo(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==ce(e)?!1:t}function Be(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),s=jt(e);let i=he(1);t&&(r?G(r)&&(i=We(r)):i=We(e));const c=eo(s,n,r)?zn(s):he(0);let u=(o.left+c.x)/i.x,l=(o.top+c.y)/i.y,a=o.width/i.x,g=o.height/i.y;if(s){const m=ce(s),f=r&&G(r)?ce(r):r;let h=m,p=Bt(h);for(;p&&r&&f!==h;){const w=We(p),x=p.getBoundingClientRect(),I=de(p),b=x.left+(p.clientLeft+parseFloat(I.paddingLeft))*w.x,R=x.top+(p.clientTop+parseFloat(I.paddingTop))*w.y;u*=w.x,l*=w.y,a*=w.x,g*=w.y,u+=b,l+=R,h=ce(p),p=Bt(h)}}return ft({width:a,height:g,x:u,y:l})}function Ht(e,t){const n=wt(e).scrollLeft;return t?t.left+n:Be(ve(e)).left+n}function Un(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),o=r.left+t.scrollLeft-(n?0:Ht(e,r)),s=r.top+t.scrollTop;return{x:o,y:s}}function to(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const s=o==="fixed",i=ve(r),c=t?xt(t.floating):!1;if(r===i||c&&s)return n;let u={scrollLeft:0,scrollTop:0},l=he(1);const a=he(0),g=J(r);if((g||!g&&!s)&&((De(r)!=="body"||Qe(i))&&(u=wt(r)),J(r))){const f=Be(r);l=We(r),a.x=f.x+r.clientLeft,a.y=f.y+r.clientTop}const m=i&&!g&&!s?Un(i,u,!0):he(0);return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-u.scrollLeft*l.x+a.x+m.x,y:n.y*l.y-u.scrollTop*l.y+a.y+m.y}}function no(e){return Array.from(e.getClientRects())}function ro(e){const t=ve(e),n=wt(e),r=e.ownerDocument.body,o=fe(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=fe(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+Ht(e);const c=-n.scrollTop;return de(r).direction==="rtl"&&(i+=fe(t.clientWidth,r.clientWidth)-o),{width:o,height:s,x:i,y:c}}function oo(e,t){const n=ce(e),r=ve(e),o=n.visualViewport;let s=r.clientWidth,i=r.clientHeight,c=0,u=0;if(o){s=o.width,i=o.height;const l=yt();(!l||l&&t==="fixed")&&(c=o.offsetLeft,u=o.offsetTop)}return{width:s,height:i,x:c,y:u}}function io(e,t){const n=Be(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,s=J(e)?We(e):he(1),i=e.clientWidth*s.x,c=e.clientHeight*s.y,u=o*s.x,l=r*s.y;return{width:i,height:c,x:u,y:l}}function on(e,t,n){let r;if(t==="viewport")r=oo(e,n);else if(t==="document")r=ro(ve(e));else if(G(t))r=io(t,n);else{const o=zn(e);r={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return ft(r)}function Yn(e,t){const n=ye(e);return n===t||!G(n)||ke(n)?!1:de(n).position==="fixed"||Yn(n,t)}function so(e,t){const n=t.get(e);if(n)return n;let r=Ae(e,[],!1).filter(c=>G(c)&&De(c)!=="body"),o=null;const s=de(e).position==="fixed";let i=s?ye(e):e;for(;G(i)&&!ke(i);){const c=de(i),u=qt(i);!u&&c.position==="fixed"&&(o=null),(s?!u&&!o:!u&&c.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||Qe(i)&&!u&&Yn(e,i))?r=r.filter(a=>a!==i):o=c,i=ye(i)}return t.set(e,r),r}function co(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const i=[...n==="clippingAncestors"?xt(t)?[]:so(t,this._c):[].concat(n),r],c=i[0],u=i.reduce((l,a)=>{const g=on(t,a,o);return l.top=fe(g.top,l.top),l.right=Xe(g.right,l.right),l.bottom=Xe(g.bottom,l.bottom),l.left=fe(g.left,l.left),l},on(t,c,o));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function lo(e){const{width:t,height:n}=Hn(e);return{width:t,height:n}}function uo(e,t,n){const r=J(t),o=ve(t),s=n==="fixed",i=Be(e,!0,s,t);let c={scrollLeft:0,scrollTop:0};const u=he(0);if(r||!r&&!s)if((De(t)!=="body"||Qe(o))&&(c=wt(t)),r){const m=Be(t,!0,s,t);u.x=m.x+t.clientLeft,u.y=m.y+t.clientTop}else o&&(u.x=Ht(o));const l=o&&!r&&!s?Un(o,c):he(0),a=i.left+c.scrollLeft-u.x-l.x,g=i.top+c.scrollTop-u.y-l.y;return{x:a,y:g,width:i.width,height:i.height}}function Ot(e){return de(e).position==="static"}function sn(e,t){if(!J(e)||de(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return ve(e)===n&&(n=n.ownerDocument.body),n}function Gn(e,t){const n=ce(e);if(xt(e))return n;if(!J(e)){let o=ye(e);for(;o&&!ke(o);){if(G(o)&&!Ot(o))return o;o=ye(o)}return n}let r=sn(e,t);for(;r&&mr(r)&&Ot(r);)r=sn(r,t);return r&&ke(r)&&Ot(r)&&!qt(r)?n:r||pr(e)||n}const ao=async function(e){const t=this.getOffsetParent||Gn,n=this.getDimensions,r=await n(e.floating);return{reference:uo(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function fo(e){return de(e).direction==="rtl"}const mo={convertOffsetParentRelativeRectToViewportRelativeRect:to,getDocumentElement:ve,getClippingRect:co,getOffsetParent:Gn,getElementRects:ao,getClientRects:no,getDimensions:lo,getScale:We,isElement:G,isRTL:fo};function po(e,t){let n=null,r;const o=ve(e);function s(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function i(c,u){c===void 0&&(c=!1),u===void 0&&(u=1),s();const{left:l,top:a,width:g,height:m}=e.getBoundingClientRect();if(c||t(),!g||!m)return;const f=Ve(a),h=Ve(o.clientWidth-(l+g)),p=Ve(o.clientHeight-(a+m)),w=Ve(l),I={rootMargin:-f+"px "+-h+"px "+-p+"px "+-w+"px",threshold:fe(0,Xe(1,u))||1};let b=!0;function R(k){const D=k[0].intersectionRatio;if(D!==u){if(!b)return i();D?i(!1,D):r=setTimeout(()=>{i(!1,1e-7)},1e3)}b=!1}try{n=new IntersectionObserver(R,{...I,root:o.ownerDocument})}catch{n=new IntersectionObserver(R,I)}n.observe(e)}return i(!0),s}function go(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:s=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,l=jt(e),a=o||s?[...l?Ae(l):[],...Ae(t)]:[];a.forEach(x=>{o&&x.addEventListener("scroll",n,{passive:!0}),s&&x.addEventListener("resize",n)});const g=l&&c?po(l,n):null;let m=-1,f=null;i&&(f=new ResizeObserver(x=>{let[I]=x;I&&I.target===l&&f&&(f.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var b;(b=f)==null||b.observe(t)})),n()}),l&&!u&&f.observe(l),f.observe(t));let h,p=u?Be(e):null;u&&w();function w(){const x=Be(e);p&&(x.x!==p.x||x.y!==p.y||x.width!==p.width||x.height!==p.height)&&n(),p=x,h=requestAnimationFrame(w)}return n(),()=>{var x;a.forEach(I=>{o&&I.removeEventListener("scroll",n),s&&I.removeEventListener("resize",n)}),g==null||g(),(x=f)==null||x.disconnect(),f=null,u&&cancelAnimationFrame(h)}}const ho=Zr,vo=Gr,bo=Jr,xo=(e,t,n)=>{const r=new Map,o={platform:mo,...n},s={...o.platform,_c:r};return Yr(e,t,{...o,platform:s})};var ct=typeof document<"u"?d.useLayoutEffect:d.useEffect;function gt(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!gt(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const s=o[r];if(!(s==="_owner"&&e.$$typeof)&&!gt(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function Xn(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function cn(e,t){const n=Xn(e);return Math.round(t*n)/n}function kt(e){const t=d.useRef(e);return ct(()=>{t.current=e}),t}function yo(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:s,floating:i}={},transform:c=!0,whileElementsMounted:u,open:l}=e,[a,g]=d.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[m,f]=d.useState(r);gt(m,r)||f(r);const[h,p]=d.useState(null),[w,x]=d.useState(null),I=d.useCallback(C=>{C!==D.current&&(D.current=C,p(C))},[]),b=d.useCallback(C=>{C!==_.current&&(_.current=C,x(C))},[]),R=s||h,k=i||w,D=d.useRef(null),_=d.useRef(null),W=d.useRef(a),q=u!=null,$=kt(u),K=kt(o),E=kt(l),F=d.useCallback(()=>{if(!D.current||!_.current)return;const C={placement:t,strategy:n,middleware:m};K.current&&(C.platform=K.current),xo(D.current,_.current,C).then(v=>{const N={...v,isPositioned:E.current!==!1};Y.current&&!gt(W.current,N)&&(W.current=N,On.flushSync(()=>{g(N)}))})},[m,t,n,K,E]);ct(()=>{l===!1&&W.current.isPositioned&&(W.current.isPositioned=!1,g(C=>({...C,isPositioned:!1})))},[l]);const Y=d.useRef(!1);ct(()=>(Y.current=!0,()=>{Y.current=!1}),[]),ct(()=>{if(R&&(D.current=R),k&&(_.current=k),R&&k){if($.current)return $.current(R,k,F);F()}},[R,k,F,$,q]);const A=d.useMemo(()=>({reference:D,floating:_,setReference:I,setFloating:b}),[I,b]),y=d.useMemo(()=>({reference:R,floating:k}),[R,k]),T=d.useMemo(()=>{const C={position:n,left:0,top:0};if(!y.floating)return C;const v=cn(y.floating,a.x),N=cn(y.floating,a.y);return c?{...C,transform:"translate("+v+"px, "+N+"px)",...Xn(y.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:v,top:N}},[n,c,y.floating,a.x,a.y]);return d.useMemo(()=>({...a,update:F,refs:A,elements:y,floatingStyles:T}),[a,F,A,y,T])}const wo=(e,t)=>({...ho(e),options:[e,t]}),Ro=(e,t)=>({...vo(e),options:[e,t]}),Eo=(e,t)=>({...bo(e),options:[e,t]}),Zn={...lr},Co=Zn.useInsertionEffect,Io=Co||(e=>e());function me(e){const t=d.useRef(()=>{});return Io(()=>{t.current=e}),d.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}const zt="ArrowUp",tt="ArrowDown",Se="ArrowLeft",Oe="ArrowRight";function ot(e,t,n){return Math.floor(e/t)!==n}function Ye(e,t){return t<0||t>=e.current.length}function Dt(e,t){return ee(e,{disabledIndices:t})}function ln(e,t){return ee(e,{decrement:!0,startingIndex:e.current.length,disabledIndices:t})}function ee(e,t){let{startingIndex:n=-1,decrement:r=!1,disabledIndices:o,amount:s=1}=t===void 0?{}:t;const i=e.current;let c=n;do c+=r?-s:s;while(c>=0&&c<=i.length-1&&lt(i,c,o));return c}function To(e,t){let{event:n,orientation:r,loop:o,rtl:s,cols:i,disabledIndices:c,minIndex:u,maxIndex:l,prevIndex:a,stopEvent:g=!1}=t,m=a;if(n.key===zt){if(g&&ne(n),a===-1)m=l;else if(m=ee(e,{startingIndex:m,amount:i,decrement:!0,disabledIndices:c}),o&&(a-i<u||m<0)){const f=a%i,h=l%i,p=l-(h-f);h===f?m=l:m=h>f?p:p-i}Ye(e,m)&&(m=a)}if(n.key===tt&&(g&&ne(n),a===-1?m=u:(m=ee(e,{startingIndex:a,amount:i,disabledIndices:c}),o&&a+i>l&&(m=ee(e,{startingIndex:a%i-i,amount:i,disabledIndices:c}))),Ye(e,m)&&(m=a)),r==="both"){const f=Ve(a/i);n.key===(s?Se:Oe)&&(g&&ne(n),a%i!==i-1?(m=ee(e,{startingIndex:a,disabledIndices:c}),o&&ot(m,i,f)&&(m=ee(e,{startingIndex:a-a%i-1,disabledIndices:c}))):o&&(m=ee(e,{startingIndex:a-a%i-1,disabledIndices:c})),ot(m,i,f)&&(m=a)),n.key===(s?Oe:Se)&&(g&&ne(n),a%i!==0?(m=ee(e,{startingIndex:a,decrement:!0,disabledIndices:c}),o&&ot(m,i,f)&&(m=ee(e,{startingIndex:a+(i-a%i),decrement:!0,disabledIndices:c}))):o&&(m=ee(e,{startingIndex:a+(i-a%i),decrement:!0,disabledIndices:c})),ot(m,i,f)&&(m=a));const h=Ve(l/i)===f;Ye(e,m)&&(o&&h?m=n.key===(s?Oe:Se)?l:ee(e,{startingIndex:a-a%i-1,disabledIndices:c}):m=a)}return m}function Ao(e,t,n){const r=[];let o=0;return e.forEach((s,i)=>{let{width:c,height:u}=s,l=!1;for(n&&(o=0);!l;){const a=[];for(let g=0;g<c;g++)for(let m=0;m<u;m++)a.push(o+g+m*t);o%t+c<=t&&a.every(g=>r[g]==null)?(a.forEach(g=>{r[g]=i}),l=!0):o++}}),[...r]}function So(e,t,n,r,o){if(e===-1)return-1;const s=n.indexOf(e),i=t[e];switch(o){case"tl":return s;case"tr":return i?s+i.width-1:s;case"bl":return i?s+(i.height-1)*r:s;case"br":return n.lastIndexOf(e)}}function Oo(e,t){return t.flatMap((n,r)=>e.includes(n)?[r]:[])}function lt(e,t,n){if(n)return n.includes(t);const r=e[t];return r==null||r.hasAttribute("disabled")||r.getAttribute("aria-disabled")==="true"}var Z=typeof document<"u"?d.useLayoutEffect:d.useEffect;function ht(){return ht=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ht.apply(this,arguments)}let un=!1,ko=0;const an=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+ko++;function Do(){const[e,t]=d.useState(()=>un?an():void 0);return Z(()=>{e==null&&t(an())},[]),d.useEffect(()=>{un=!0},[]),e}const Mo=Zn.useId,Ct=Mo||Do;function Po(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(o=>o(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,((r=e.get(t))==null?void 0:r.filter(o=>o!==n))||[])}}}const Fo=d.createContext(null),No=d.createContext(null),Ut=()=>{var e;return((e=d.useContext(Fo))==null?void 0:e.id)||null},It=()=>d.useContext(No);function Ze(e){return"data-floating-ui-"+e}function Te(e){const t=d.useRef(e);return Z(()=>{t.current=e}),t}let fn=0;function Ie(e,t){t===void 0&&(t={});const{preventScroll:n=!1,cancelPrevious:r=!0,sync:o=!1}=t;r&&cancelAnimationFrame(fn);const s=()=>e==null?void 0:e.focus({preventScroll:n});o?s():fn=requestAnimationFrame(s)}function Lo(e,t){var n;let r=[],o=(n=e.find(s=>s.id===t))==null?void 0:n.parentId;for(;o;){const s=e.find(i=>i.id===o);o=s==null?void 0:s.parentId,s&&(r=r.concat(s))}return r}function Ke(e,t){let n=e.filter(o=>{var s;return o.parentId===t&&((s=o.context)==null?void 0:s.open)}),r=n;for(;r.length;)r=e.filter(o=>{var s;return(s=r)==null?void 0:s.some(i=>{var c;return o.parentId===i.id&&((c=o.context)==null?void 0:c.open)})}),n=n.concat(r);return n}function Bo(e,t){let n,r=-1;function o(s,i){i>r&&(n=s,r=i),Ke(e,s).forEach(u=>{o(u.id,i+1)})}return o(t,0),e.find(s=>s.id===n)}let _e=new WeakMap,it=new WeakSet,st={},Mt=0;const _o=()=>typeof HTMLElement<"u"&&"inert"in HTMLElement.prototype,Jn=e=>e&&(e.host||Jn(e.parentNode)),Vo=(e,t)=>t.map(n=>{if(e.contains(n))return n;const r=Jn(n);return e.contains(r)?r:null}).filter(n=>n!=null);function Wo(e,t,n,r){const o="data-floating-ui-inert",s=r?"inert":n?"aria-hidden":null,i=Vo(t,e),c=new Set,u=new Set(i),l=[];st[o]||(st[o]=new WeakMap);const a=st[o];i.forEach(g),m(t),c.clear();function g(f){!f||c.has(f)||(c.add(f),f.parentNode&&g(f.parentNode))}function m(f){!f||u.has(f)||[].forEach.call(f.children,h=>{if(De(h)!=="script")if(c.has(h))m(h);else{const p=s?h.getAttribute(s):null,w=p!==null&&p!=="false",x=(_e.get(h)||0)+1,I=(a.get(h)||0)+1;_e.set(h,x),a.set(h,I),l.push(h),x===1&&w&&it.add(h),I===1&&h.setAttribute(o,""),!w&&s&&h.setAttribute(s,"true")}})}return Mt++,()=>{l.forEach(f=>{const h=(_e.get(f)||0)-1,p=(a.get(f)||0)-1;_e.set(f,h),a.set(f,p),h||(!it.has(f)&&s&&f.removeAttribute(s),it.delete(f)),p||f.removeAttribute(o)}),Mt--,Mt||(_e=new WeakMap,_e=new WeakMap,it=new WeakSet,st={})}}function dn(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);const r=ae(e[0]).body;return Wo(e.concat(Array.from(r.querySelectorAll("[aria-live]"))),r,t,n)}const Je=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function Qn(e,t){const n=Et(e,Je());t==="prev"&&n.reverse();const r=n.indexOf(xe(ae(e)));return n.slice(r+1)[0]}function er(){return Qn(document.body,"next")}function tr(){return Qn(document.body,"prev")}function Ge(e,t){const n=t||e.currentTarget,r=e.relatedTarget;return!r||!ie(n,r)}function Ko(e){Et(e,Je()).forEach(n=>{n.dataset.tabindex=n.getAttribute("tabindex")||"",n.setAttribute("tabindex","-1")})}function mn(e){e.querySelectorAll("[data-tabindex]").forEach(n=>{const r=n.dataset.tabindex;delete n.dataset.tabindex,r?n.setAttribute("tabindex",r):n.removeAttribute("tabindex")})}const Tt={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let $o;function pn(e){e.key==="Tab"&&(e.target,clearTimeout($o))}const vt=d.forwardRef(function(t,n){const[r,o]=d.useState();Z(()=>(Ln()&&o("button"),document.addEventListener("keydown",pn),()=>{document.removeEventListener("keydown",pn)}),[]);const s={ref:n,tabIndex:0,role:r,"aria-hidden":r?void 0:!0,[Ze("focus-guard")]:"",style:Tt};return d.createElement("span",ht({},t,s))}),nr=d.createContext(null),gn=Ze("portal");function qo(e){e===void 0&&(e={});const{id:t,root:n}=e,r=Ct(),o=rr(),[s,i]=d.useState(null),c=d.useRef(null);return Z(()=>()=>{s==null||s.remove(),queueMicrotask(()=>{c.current=null})},[s]),Z(()=>{if(!r||c.current)return;const u=t?document.getElementById(t):null;if(!u)return;const l=document.createElement("div");l.id=r,l.setAttribute(gn,""),u.appendChild(l),c.current=l,i(l)},[t,r]),Z(()=>{if(n===null||!r||c.current)return;let u=n||(o==null?void 0:o.portalNode);u&&!G(u)&&(u=u.current),u=u||document.body;let l=null;t&&(l=document.createElement("div"),l.id=t,u.appendChild(l));const a=document.createElement("div");a.id=r,a.setAttribute(gn,""),u=l||u,u.appendChild(a),c.current=a,i(a)},[t,n,r,o]),s}function jo(e){const{children:t,id:n,root:r,preserveTabOrder:o=!0}=e,s=qo({id:n,root:r}),[i,c]=d.useState(null),u=d.useRef(null),l=d.useRef(null),a=d.useRef(null),g=d.useRef(null),m=i==null?void 0:i.modal,f=i==null?void 0:i.open,h=!!i&&!i.modal&&i.open&&o&&!!(r||s);return d.useEffect(()=>{if(!s||!o||m)return;function p(w){s&&Ge(w)&&(w.type==="focusin"?mn:Ko)(s)}return s.addEventListener("focusin",p,!0),s.addEventListener("focusout",p,!0),()=>{s.removeEventListener("focusin",p,!0),s.removeEventListener("focusout",p,!0)}},[s,o,m]),d.useEffect(()=>{s&&(f||mn(s))},[f,s]),d.createElement(nr.Provider,{value:d.useMemo(()=>({preserveTabOrder:o,beforeOutsideRef:u,afterOutsideRef:l,beforeInsideRef:a,afterInsideRef:g,portalNode:s,setFocusManagerState:c}),[o,s])},h&&s&&d.createElement(vt,{"data-type":"outside",ref:u,onFocus:p=>{if(Ge(p,s)){var w;(w=a.current)==null||w.focus()}else{const x=tr()||(i==null?void 0:i.refs.domReference.current);x==null||x.focus()}}}),h&&s&&d.createElement("span",{"aria-owns":s.id,style:Tt}),s&&On.createPortal(t,s),h&&s&&d.createElement(vt,{"data-type":"outside",ref:l,onFocus:p=>{if(Ge(p,s)){var w;(w=g.current)==null||w.focus()}else{const x=er()||(i==null?void 0:i.refs.domReference.current);x==null||x.focus(),i!=null&&i.closeOnFocusOut&&(i==null||i.onOpenChange(!1,p.nativeEvent,"focus-out"))}}}))}const rr=()=>d.useContext(nr),$t="data-floating-ui-focusable";function or(e){return e?e.hasAttribute($t)?e:e.querySelector("["+$t+"]")||e:null}const hn=20;let Fe=[];function Pt(e){Fe=Fe.filter(n=>n.isConnected);let t=e;if(!(!t||De(t)==="body")){if(!Ur(t,Je())){const n=Et(t,Je())[0];n&&(t=n)}Fe.push(t),Fe.length>hn&&(Fe=Fe.slice(-hn))}}function vn(){return Fe.slice().reverse().find(e=>e.isConnected)}const Ho=d.forwardRef(function(t,n){return d.createElement("button",ht({},t,{type:"button",ref:n,tabIndex:-1,style:Tt}))});function zo(e){const{context:t,children:n,disabled:r=!1,order:o=["content"],guards:s=!0,initialFocus:i=0,returnFocus:c=!0,restoreFocus:u=!1,modal:l=!0,visuallyHiddenDismiss:a=!1,closeOnFocusOut:g=!0}=e,{open:m,refs:f,nodeId:h,onOpenChange:p,events:w,dataRef:x,floatingId:I,elements:{domReference:b,floating:R}}=t,k=typeof i=="number"&&i<0,D=Vt(b)&&k,_=_o()?s:!0,W=Te(o),q=Te(i),$=Te(c),K=It(),E=rr(),F=d.useRef(null),Y=d.useRef(null),A=d.useRef(!1),y=d.useRef(!1),T=d.useRef(-1),C=E!=null,v=or(R),N=me(function(M){return M===void 0&&(M=v),M?Et(M,Je()):[]}),H=me(M=>{const B=N(M);return W.current.map(S=>b&&S==="reference"?b:v&&S==="floating"?v:B).filter(Boolean).flat()});d.useEffect(()=>{if(r||!l)return;function M(S){if(S.key==="Tab"){ie(v,xe(ae(v)))&&N().length===0&&!D&&ne(S);const P=H(),V=Ne(S);W.current[0]==="reference"&&V===b&&(ne(S),S.shiftKey?Ie(P[P.length-1]):Ie(P[1])),W.current[1]==="floating"&&V===v&&S.shiftKey&&(ne(S),Ie(P[0]))}}const B=ae(v);return B.addEventListener("keydown",M),()=>{B.removeEventListener("keydown",M)}},[r,b,v,l,W,D,N,H]),d.useEffect(()=>{if(r||!R)return;function M(B){const S=Ne(B),V=N().indexOf(S);V!==-1&&(T.current=V)}return R.addEventListener("focusin",M),()=>{R.removeEventListener("focusin",M)}},[r,R,N]),d.useEffect(()=>{if(r||!g)return;function M(){y.current=!0,setTimeout(()=>{y.current=!1})}function B(S){const P=S.relatedTarget;queueMicrotask(()=>{const V=!(ie(b,P)||ie(R,P)||ie(P,R)||ie(E==null?void 0:E.portalNode,P)||P!=null&&P.hasAttribute(Ze("focus-guard"))||K&&(Ke(K.nodesRef.current,h).find(Q=>{var X,se;return ie((X=Q.context)==null?void 0:X.elements.floating,P)||ie((se=Q.context)==null?void 0:se.elements.domReference,P)})||Lo(K.nodesRef.current,h).find(Q=>{var X,se;return((X=Q.context)==null?void 0:X.elements.floating)===P||((se=Q.context)==null?void 0:se.elements.domReference)===P})));if(u&&V&&xe(ae(v))===ae(v).body){J(v)&&v.focus();const Q=T.current,X=N(),se=X[Q]||X[X.length-1]||v;J(se)&&se.focus()}(D||!l)&&P&&V&&!y.current&&P!==vn()&&(A.current=!0,p(!1,S,"focus-out"))})}if(R&&J(b))return b.addEventListener("focusout",B),b.addEventListener("pointerdown",M),R.addEventListener("focusout",B),()=>{b.removeEventListener("focusout",B),b.removeEventListener("pointerdown",M),R.removeEventListener("focusout",B)}},[r,b,R,v,l,h,K,E,p,g,u,N,D]),d.useEffect(()=>{var M;if(r)return;const B=Array.from((E==null||(M=E.portalNode)==null?void 0:M.querySelectorAll("["+Ze("portal")+"]"))||[]);if(R){const S=[R,...B,F.current,Y.current,W.current.includes("reference")||D?b:null].filter(V=>V!=null),P=l||D?dn(S,_,!_):dn(S);return()=>{P()}}},[r,b,R,l,W,E,D,_]),Z(()=>{if(r||!J(v))return;const M=ae(v),B=xe(M);queueMicrotask(()=>{const S=H(v),P=q.current,V=(typeof P=="number"?S[P]:P.current)||v,Q=ie(v,B);!k&&!Q&&m&&Ie(V,{preventScroll:V===v})})},[r,m,v,k,H,q]),Z(()=>{if(r||!v)return;let M=!1;const B=ae(v),S=xe(B);let V=x.current.openEvent;Pt(S);function Q(le){let{open:Me,reason:we,event:re,nested:Re}=le;Me&&(V=re),we==="escape-key"&&f.domReference.current&&Pt(f.domReference.current),we==="hover"&&re.type==="mouseleave"&&(A.current=!0),we==="outside-press"&&(Re?(A.current=!1,M=!0):A.current=!(Fn(re)||Nn(re)))}w.on("openchange",Q);const X=B.createElement("span");X.setAttribute("tabindex","-1"),X.setAttribute("aria-hidden","true"),Object.assign(X.style,Tt),C&&b&&b.insertAdjacentElement("afterend",X);function se(){return typeof $.current=="boolean"?vn()||X:$.current.current||X}return()=>{w.off("openchange",Q);const le=xe(B),Me=ie(R,le)||K&&Ke(K.nodesRef.current,h).some(Re=>{var je;return ie((je=Re.context)==null?void 0:je.elements.floating,le)});(Me||V&&["click","mousedown"].includes(V.type))&&f.domReference.current&&Pt(f.domReference.current);const re=se();queueMicrotask(()=>{$.current&&!A.current&&J(re)&&(!(re!==le&&le!==B.body)||Me)&&re.focus({preventScroll:M}),X.remove()})}},[r,R,v,$,x,f,w,K,h,C,b]),d.useEffect(()=>{queueMicrotask(()=>{A.current=!1})},[r]),Z(()=>{if(!r&&E)return E.setFocusManagerState({modal:l,closeOnFocusOut:g,open:m,onOpenChange:p,refs:f}),()=>{E.setFocusManagerState(null)}},[r,E,l,m,p,f,g]),Z(()=>{if(r||!v||typeof MutationObserver!="function"||k)return;const M=()=>{const S=v.getAttribute("tabindex"),P=N(),V=xe(ae(R)),Q=P.indexOf(V);Q!==-1&&(T.current=Q),W.current.includes("floating")||V!==f.domReference.current&&P.length===0?S!=="0"&&v.setAttribute("tabindex","0"):S!=="-1"&&v.setAttribute("tabindex","-1")};M();const B=new MutationObserver(M);return B.observe(v,{childList:!0,subtree:!0,attributes:!0}),()=>{B.disconnect()}},[r,R,v,f,W,N,k]);function te(M){return r||!a||!l?null:d.createElement(Ho,{ref:M==="start"?F:Y,onClick:B=>p(!1,B.nativeEvent)},typeof a=="string"?a:"Dismiss")}const be=!r&&_&&(l?!D:!0)&&(C||l);return d.createElement(d.Fragment,null,be&&d.createElement(vt,{"data-type":"inside",ref:E==null?void 0:E.beforeInsideRef,onFocus:M=>{if(l){const S=H();Ie(o[0]==="reference"?S[0]:S[S.length-1])}else if(E!=null&&E.preserveTabOrder&&E.portalNode)if(A.current=!1,Ge(M,E.portalNode)){const S=er()||b;S==null||S.focus()}else{var B;(B=E.beforeOutsideRef.current)==null||B.focus()}}}),!D&&te("start"),n,te("end"),be&&d.createElement(vt,{"data-type":"inside",ref:E==null?void 0:E.afterInsideRef,onFocus:M=>{if(l)Ie(H()[0]);else if(E!=null&&E.preserveTabOrder&&E.portalNode)if(g&&(A.current=!0),Ge(M,E.portalNode)){const S=tr()||b;S==null||S.focus()}else{var B;(B=E.afterOutsideRef.current)==null||B.focus()}}}))}function bn(e){return J(e.target)&&e.target.tagName==="BUTTON"}function xn(e){return Bn(e)}function Uo(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:o,elements:{domReference:s}}=e,{enabled:i=!0,event:c="click",toggle:u=!0,ignoreMouse:l=!1,keyboardHandlers:a=!0,stickIfOpen:g=!0}=t,m=d.useRef(),f=d.useRef(!1),h=d.useMemo(()=>({onPointerDown(p){m.current=p.pointerType},onMouseDown(p){const w=m.current;p.button===0&&c!=="click"&&(tn(w)&&l||(n&&u&&(!(o.current.openEvent&&g)||o.current.openEvent.type==="mousedown")?r(!1,p.nativeEvent,"click"):(p.preventDefault(),r(!0,p.nativeEvent,"click"))))},onClick(p){const w=m.current;if(c==="mousedown"&&m.current){m.current=void 0;return}tn(w)&&l||(n&&u&&(!(o.current.openEvent&&g)||o.current.openEvent.type==="click")?r(!1,p.nativeEvent,"click"):r(!0,p.nativeEvent,"click"))},onKeyDown(p){m.current=void 0,!(p.defaultPrevented||!a||bn(p))&&(p.key===" "&&!xn(s)&&(p.preventDefault(),f.current=!0),p.key==="Enter"&&r(!(n&&u),p.nativeEvent,"click"))},onKeyUp(p){p.defaultPrevented||!a||bn(p)||xn(s)||p.key===" "&&f.current&&(f.current=!1,r(!(n&&u),p.nativeEvent,"click"))}}),[o,s,c,l,a,r,n,g,u]);return d.useMemo(()=>i?{reference:h}:{},[i,h])}const Yo={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},Go={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},yn=e=>{var t,n;return{escapeKey:typeof e=="boolean"?e:(t=e==null?void 0:e.escapeKey)!=null?t:!1,outsidePress:typeof e=="boolean"?e:(n=e==null?void 0:e.outsidePress)!=null?n:!0}};function Xo(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,elements:o,dataRef:s}=e,{enabled:i=!0,escapeKey:c=!0,outsidePress:u=!0,outsidePressEvent:l="pointerdown",referencePress:a=!1,referencePressEvent:g="pointerdown",ancestorScroll:m=!1,bubbles:f,capture:h}=t,p=It(),w=me(typeof u=="function"?u:()=>!1),x=typeof u=="function"?w:u,I=d.useRef(!1),b=d.useRef(!1),{escapeKey:R,outsidePress:k}=yn(f),{escapeKey:D,outsidePress:_}=yn(h),W=d.useRef(!1),q=me(A=>{var y;if(!n||!i||!c||A.key!=="Escape"||W.current)return;const T=(y=s.current.floatingContext)==null?void 0:y.nodeId,C=p?Ke(p.nodesRef.current,T):[];if(!R&&(A.stopPropagation(),C.length>0)){let v=!0;if(C.forEach(N=>{var H;if((H=N.context)!=null&&H.open&&!N.context.dataRef.current.__escapeKeyBubbles){v=!1;return}}),!v)return}r(!1,vr(A)?A.nativeEvent:A,"escape-key")}),$=me(A=>{var y;const T=()=>{var C;q(A),(C=Ne(A))==null||C.removeEventListener("keydown",T)};(y=Ne(A))==null||y.addEventListener("keydown",T)}),K=me(A=>{var y;const T=I.current;I.current=!1;const C=b.current;if(b.current=!1,l==="click"&&C||T||typeof x=="function"&&!x(A))return;const v=Ne(A),N="["+Ze("inert")+"]",H=ae(o.floating).querySelectorAll(N);let te=G(v)?v:null;for(;te&&!ke(te);){const S=ye(te);if(ke(S)||!G(S))break;te=S}if(H.length&&G(v)&&!br(v)&&!ie(v,o.floating)&&Array.from(H).every(S=>!ie(te,S)))return;if(J(v)&&Y){const S=v.clientWidth>0&&v.scrollWidth>v.clientWidth,P=v.clientHeight>0&&v.scrollHeight>v.clientHeight;let V=P&&A.offsetX>v.clientWidth;if(P&&de(v).direction==="rtl"&&(V=A.offsetX<=v.offsetWidth-v.clientWidth),V||S&&A.offsetY>v.clientHeight)return}const be=(y=s.current.floatingContext)==null?void 0:y.nodeId,M=p&&Ke(p.nodesRef.current,be).some(S=>{var P;return St(A,(P=S.context)==null?void 0:P.elements.floating)});if(St(A,o.floating)||St(A,o.domReference)||M)return;const B=p?Ke(p.nodesRef.current,be):[];if(B.length>0){let S=!0;if(B.forEach(P=>{var V;if((V=P.context)!=null&&V.open&&!P.context.dataRef.current.__outsidePressBubbles){S=!1;return}}),!S)return}r(!1,A,"outside-press")}),E=me(A=>{var y;const T=()=>{var C;K(A),(C=Ne(A))==null||C.removeEventListener(l,T)};(y=Ne(A))==null||y.addEventListener(l,T)});d.useEffect(()=>{if(!n||!i)return;s.current.__escapeKeyBubbles=R,s.current.__outsidePressBubbles=k;let A=-1;function y(H){r(!1,H,"ancestor-scroll")}function T(){window.clearTimeout(A),W.current=!0}function C(){A=window.setTimeout(()=>{W.current=!1},yt()?5:0)}const v=ae(o.floating);c&&(v.addEventListener("keydown",D?$:q,D),v.addEventListener("compositionstart",T),v.addEventListener("compositionend",C)),x&&v.addEventListener(l,_?E:K,_);let N=[];return m&&(G(o.domReference)&&(N=Ae(o.domReference)),G(o.floating)&&(N=N.concat(Ae(o.floating))),!G(o.reference)&&o.reference&&o.reference.contextElement&&(N=N.concat(Ae(o.reference.contextElement)))),N=N.filter(H=>{var te;return H!==((te=v.defaultView)==null?void 0:te.visualViewport)}),N.forEach(H=>{H.addEventListener("scroll",y,{passive:!0})}),()=>{c&&(v.removeEventListener("keydown",D?$:q,D),v.removeEventListener("compositionstart",T),v.removeEventListener("compositionend",C)),x&&v.removeEventListener(l,_?E:K,_),N.forEach(H=>{H.removeEventListener("scroll",y)}),window.clearTimeout(A)}},[s,o,c,x,l,n,r,m,i,R,k,q,D,$,K,_,E]),d.useEffect(()=>{I.current=!1},[x,l]);const F=d.useMemo(()=>({onKeyDown:q,[Yo[g]]:A=>{a&&r(!1,A.nativeEvent,"reference-press")}}),[q,r,a,g]),Y=d.useMemo(()=>({onKeyDown:q,onMouseDown(){b.current=!0},onMouseUp(){b.current=!0},[Go[l]]:()=>{I.current=!0}}),[q,l]);return d.useMemo(()=>i?{reference:F,floating:Y}:{},[i,F,Y])}function Zo(e){const{open:t=!1,onOpenChange:n,elements:r}=e,o=Ct(),s=d.useRef({}),[i]=d.useState(()=>Po()),c=Ut()!=null,[u,l]=d.useState(r.reference),a=me((f,h,p)=>{s.current.openEvent=f?h:void 0,i.emit("openchange",{open:f,event:h,reason:p,nested:c}),n==null||n(f,h,p)}),g=d.useMemo(()=>({setPositionReference:l}),[]),m=d.useMemo(()=>({reference:u||r.reference||null,floating:r.floating||null,domReference:r.reference}),[u,r.reference,r.floating]);return d.useMemo(()=>({dataRef:s,open:t,onOpenChange:a,elements:m,events:i,floatingId:o,refs:g}),[t,a,m,i,o,g])}function Jo(e){e===void 0&&(e={});const{nodeId:t}=e,n=Zo({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,o=r.elements,[s,i]=d.useState(null),[c,u]=d.useState(null),a=(o==null?void 0:o.domReference)||s,g=d.useRef(null),m=It();Z(()=>{a&&(g.current=a)},[a]);const f=yo({...e,elements:{...o,...c&&{reference:c}}}),h=d.useCallback(b=>{const R=G(b)?{getBoundingClientRect:()=>b.getBoundingClientRect(),contextElement:b}:b;u(R),f.refs.setReference(R)},[f.refs]),p=d.useCallback(b=>{(G(b)||b===null)&&(g.current=b,i(b)),(G(f.refs.reference.current)||f.refs.reference.current===null||b!==null&&!G(b))&&f.refs.setReference(b)},[f.refs]),w=d.useMemo(()=>({...f.refs,setReference:p,setPositionReference:h,domReference:g}),[f.refs,p,h]),x=d.useMemo(()=>({...f.elements,domReference:a}),[f.elements,a]),I=d.useMemo(()=>({...f,...r,refs:w,elements:x,nodeId:t}),[f,w,x,t,r]);return Z(()=>{r.dataRef.current.floatingContext=I;const b=m==null?void 0:m.nodesRef.current.find(R=>R.id===t);b&&(b.context=I)}),d.useMemo(()=>({...f,context:I,refs:w,elements:x}),[f,w,x,I])}const wn="active",Rn="selected";function Ft(e,t,n){const r=new Map,o=n==="item";let s=e;if(o&&e){const{[wn]:i,[Rn]:c,...u}=e;s=u}return{...n==="floating"&&{tabIndex:-1,[$t]:""},...s,...t.map(i=>{const c=i?i[n]:null;return typeof c=="function"?e?c(e):null:c}).concat(e).reduce((i,c)=>(c&&Object.entries(c).forEach(u=>{let[l,a]=u;if(!(o&&[wn,Rn].includes(l)))if(l.indexOf("on")===0){if(r.has(l)||r.set(l,[]),typeof a=="function"){var g;(g=r.get(l))==null||g.push(a),i[l]=function(){for(var m,f=arguments.length,h=new Array(f),p=0;p<f;p++)h[p]=arguments[p];return(m=r.get(l))==null?void 0:m.map(w=>w(...h)).find(w=>w!==void 0)}}}else i[l]=a}),i),{})}}function Qo(e){e===void 0&&(e=[]);const t=e.map(c=>c==null?void 0:c.reference),n=e.map(c=>c==null?void 0:c.floating),r=e.map(c=>c==null?void 0:c.item),o=d.useCallback(c=>Ft(c,e,"reference"),t),s=d.useCallback(c=>Ft(c,e,"floating"),n),i=d.useCallback(c=>Ft(c,e,"item"),r);return d.useMemo(()=>({getReferenceProps:o,getFloatingProps:s,getItemProps:i}),[o,s,i])}let En=!1;function At(e,t,n){switch(e){case"vertical":return t;case"horizontal":return n;default:return t||n}}function Cn(e,t){return At(t,e===zt||e===tt,e===Se||e===Oe)}function Nt(e,t,n){return At(t,e===tt,n?e===Se:e===Oe)||e==="Enter"||e===" "||e===""}function ei(e,t,n){return At(t,n?e===Se:e===Oe,e===tt)}function In(e,t,n){return At(t,n?e===Oe:e===Se,e===zt)}function ti(e,t){const{open:n,onOpenChange:r,elements:o}=e,{listRef:s,activeIndex:i,onNavigate:c=()=>{},enabled:u=!0,selectedIndex:l=null,allowEscape:a=!1,loop:g=!1,nested:m=!1,rtl:f=!1,virtual:h=!1,focusItemOnOpen:p="auto",focusItemOnHover:w=!0,openOnArrowKeyDown:x=!0,disabledIndices:I=void 0,orientation:b="vertical",cols:R=1,scrollItemIntoView:k=!0,virtualItemRef:D,itemSizes:_,dense:W=!1}=t,q=or(o.floating),$=Te(q),K=Ut(),E=It(),F=me(c),Y=Vt(o.domReference),A=d.useRef(p),y=d.useRef(l??-1),T=d.useRef(null),C=d.useRef(!0),v=d.useRef(F),N=d.useRef(!!o.floating),H=d.useRef(n),te=d.useRef(!1),be=d.useRef(!1),M=Te(I),B=Te(n),S=Te(k),P=Te(l),[V,Q]=d.useState(),[X,se]=d.useState(),le=me(function(L,z,O){O===void 0&&(O=!1);function j(U){h?(Q(U.id),E==null||E.events.emit("virtualfocus",U),D&&(D.current=U)):Ie(U,{preventScroll:!0,sync:gr()&&Ln()?En||te.current:!1})}const ue=L.current[z.current];ue&&j(ue),requestAnimationFrame(()=>{const U=L.current[z.current]||ue;if(!U)return;ue||j(U);const pe=S.current;pe&&we&&(O||!C.current)&&(U.scrollIntoView==null||U.scrollIntoView(typeof pe=="boolean"?{block:"nearest",inline:"nearest"}:pe))})});Z(()=>{document.createElement("div").focus({get preventScroll(){return En=!0,!1}})},[]),Z(()=>{u&&(n&&o.floating?A.current&&l!=null&&(be.current=!0,y.current=l,F(l)):N.current&&(y.current=-1,v.current(null)))},[u,n,o.floating,l,F]),Z(()=>{if(u&&n&&o.floating)if(i==null){if(te.current=!1,P.current!=null)return;if(N.current&&(y.current=-1,le(s,y)),(!H.current||!N.current)&&A.current&&(T.current!=null||A.current===!0&&T.current==null)){let L=0;const z=()=>{s.current[0]==null?(L<2&&(L?requestAnimationFrame:queueMicrotask)(z),L++):(y.current=T.current==null||Nt(T.current,b,f)||m?Dt(s,M.current):ln(s,M.current),T.current=null,F(y.current))};z()}}else Ye(s,i)||(y.current=i,le(s,y,be.current),be.current=!1)},[u,n,o.floating,i,P,m,s,b,f,F,le,M]),Z(()=>{var L;if(!u||o.floating||!E||h||!N.current)return;const z=E.nodesRef.current,O=(L=z.find(U=>U.id===K))==null||(L=L.context)==null?void 0:L.elements.floating,j=xe(ae(o.floating)),ue=z.some(U=>U.context&&ie(U.context.elements.floating,j));O&&!ue&&C.current&&O.focus({preventScroll:!0})},[u,o.floating,E,K,h]),Z(()=>{if(!u||!E||!h||K)return;function L(z){se(z.id),D&&(D.current=z)}return E.events.on("virtualfocus",L),()=>{E.events.off("virtualfocus",L)}},[u,E,h,K,D]),Z(()=>{v.current=F,N.current=!!o.floating}),Z(()=>{n||(T.current=null)},[n]),Z(()=>{H.current=n},[n]);const Me=i!=null,we=d.useMemo(()=>{function L(O){if(!n)return;const j=s.current.indexOf(O);j!==-1&&F(j)}return{onFocus(O){let{currentTarget:j}=O;L(j)},onClick:O=>{let{currentTarget:j}=O;return j.focus({preventScroll:!0})},...w&&{onMouseMove(O){let{currentTarget:j}=O;L(j)},onPointerLeave(O){let{pointerType:j}=O;!C.current||j==="touch"||(y.current=-1,le(s,y),F(null),h||Ie($.current,{preventScroll:!0}))}}}},[n,$,le,w,s,F,h]),re=me(L=>{if(C.current=!1,te.current=!0,L.which===229||!B.current&&L.currentTarget===$.current)return;if(m&&In(L.key,b,f)){ne(L),r(!1,L.nativeEvent,"list-navigation"),J(o.domReference)&&(h?E==null||E.events.emit("virtualfocus",o.domReference):o.domReference.focus());return}const z=y.current,O=Dt(s,I),j=ln(s,I);if(Y||(L.key==="Home"&&(ne(L),y.current=O,F(y.current)),L.key==="End"&&(ne(L),y.current=j,F(y.current))),R>1){const ue=_||Array.from({length:s.current.length},()=>({width:1,height:1})),U=Ao(ue,R,W),pe=U.findIndex(ge=>ge!=null&&!lt(s.current,ge,I)),He=U.reduce((ge,Ee,nt)=>Ee!=null&&!lt(s.current,Ee,I)?nt:ge,-1),Pe=U[To({current:U.map(ge=>ge!=null?s.current[ge]:null)},{event:L,orientation:b,loop:g,rtl:f,cols:R,disabledIndices:Oo([...I||s.current.map((ge,Ee)=>lt(s.current,Ee)?Ee:void 0),void 0],U),minIndex:pe,maxIndex:He,prevIndex:So(y.current>j?O:y.current,ue,U,R,L.key===tt?"bl":L.key===(f?Se:Oe)?"tr":"tl"),stopEvent:!0})];if(Pe!=null&&(y.current=Pe,F(y.current)),b==="both")return}if(Cn(L.key,b)){if(ne(L),n&&!h&&xe(L.currentTarget.ownerDocument)===L.currentTarget){y.current=Nt(L.key,b,f)?O:j,F(y.current);return}Nt(L.key,b,f)?g?y.current=z>=j?a&&z!==s.current.length?-1:O:ee(s,{startingIndex:z,disabledIndices:I}):y.current=Math.min(j,ee(s,{startingIndex:z,disabledIndices:I})):g?y.current=z<=O?a&&z!==-1?s.current.length:j:ee(s,{startingIndex:z,decrement:!0,disabledIndices:I}):y.current=Math.max(O,ee(s,{startingIndex:z,decrement:!0,disabledIndices:I})),Ye(s,y.current)?F(null):F(y.current)}}),Re=d.useMemo(()=>h&&n&&Me&&{"aria-activedescendant":X||V},[h,n,Me,X,V]),je=d.useMemo(()=>({"aria-orientation":b==="both"?void 0:b,...!Vt(o.domReference)&&Re,onKeyDown:re,onPointerMove(){C.current=!0}}),[Re,re,o.domReference,b]),Gt=d.useMemo(()=>{function L(O){p==="auto"&&Fn(O.nativeEvent)&&(A.current=!0)}function z(O){A.current=p,p==="auto"&&Nn(O.nativeEvent)&&(A.current=!0)}return{...Re,onKeyDown(O){C.current=!1;const j=O.key.startsWith("Arrow"),ue=["Home","End"].includes(O.key),U=j||ue,pe=ei(O.key,b,f),He=In(O.key,b,f),Pe=Cn(O.key,b),ge=(m?pe:Pe)||O.key==="Enter"||O.key.trim()==="";if(h&&n){const Zt=E==null?void 0:E.nodesRef.current.find(rt=>rt.parentId==null),Ce=E&&Zt?Bo(E.nodesRef.current,Zt.id):null;if(U&&Ce&&D){const rt=new KeyboardEvent("keydown",{key:O.key,bubbles:!0});if(pe||He){var Ee,nt;const cr=((Ee=Ce.context)==null?void 0:Ee.elements.domReference)===O.currentTarget,Jt=He&&!cr?(nt=Ce.context)==null?void 0:nt.elements.domReference:pe?s.current.find(Qt=>(Qt==null?void 0:Qt.id)===V):null;Jt&&(ne(O),Jt.dispatchEvent(rt),se(void 0))}if((Pe||ue)&&Ce.context&&Ce.context.open&&Ce.parentId&&O.currentTarget!==Ce.context.elements.domReference){var Xt;ne(O),(Xt=Ce.context.elements.domReference)==null||Xt.dispatchEvent(rt);return}}return re(O)}if(!(!n&&!x&&j)){if(ge&&(T.current=m&&Pe?null:O.key),m){pe&&(ne(O),n?(y.current=Dt(s,M.current),F(y.current)):r(!0,O.nativeEvent,"list-navigation"));return}Pe&&(l!=null&&(y.current=l),ne(O),!n&&x?r(!0,O.nativeEvent,"list-navigation"):re(O),n&&F(y.current))}},onFocus(){n&&!h&&F(null)},onPointerDown:z,onMouseDown:L,onClick:L}},[V,Re,re,M,p,s,m,F,r,n,x,b,f,l,E,h,D]);return d.useMemo(()=>u?{reference:Gt,floating:je,item:we}:{},[u,Gt,je,we])}const ni=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function ri(e,t){var n;t===void 0&&(t={});const{open:r,floatingId:o}=e,{enabled:s=!0,role:i="dialog"}=t,c=(n=ni.get(i))!=null?n:i,u=Ct(),a=Ut()!=null,g=d.useMemo(()=>c==="tooltip"||i==="label"?{["aria-"+(i==="label"?"labelledby":"describedby")]:r?o:void 0}:{"aria-expanded":r?"true":"false","aria-haspopup":c==="alertdialog"?"dialog":c,"aria-controls":r?o:void 0,...c==="listbox"&&{role:"combobox"},...c==="menu"&&{id:u},...c==="menu"&&a&&{role:"menuitem"},...i==="select"&&{"aria-autocomplete":"none"},...i==="combobox"&&{"aria-autocomplete":"list"}},[c,o,a,r,u,i]),m=d.useMemo(()=>{const h={id:o,...c&&{role:c}};return c==="tooltip"||i==="label"?h:{...h,...c==="menu"&&{"aria-labelledby":u}}},[c,o,u,i]),f=d.useCallback(h=>{let{active:p,selected:w}=h;const x={role:"option",...p&&{id:o+"-option"}};switch(i){case"select":return{...x,"aria-selected":p&&w};case"combobox":return{...x,...p&&{"aria-selected":!0}}}return{}},[o,i]);return d.useMemo(()=>s?{reference:g,floating:m,item:f}:{},[s,g,m,f])}const oi="_ComboBox_9igs1_8",ii="_ComboBoxList_9igs1_24",si="_ComboBoxItem_9igs1_39",ci="_ComboBoxItemActive_9igs1_50",li="_ComboBoxNoResults_9igs1_60",ze={ComboBox:oi,ComboBoxList:ii,ComboBoxItem:si,ComboBoxItemActive:ci,ComboBoxNoResults:li};function ir(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=ir(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function ui(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=ir(e))&&(r&&(r+=" "),r+=t);return r}const sr=d.forwardRef(({children:e,active:t,className:n,activeClassName:r,...o},s)=>{const i=Ct();return oe.jsx("div",{className:ui(n,{[r]:t}),ref:s,role:"option",id:i,"aria-selected":t,...o,style:{...o.style},children:e})});sr.__docgenInfo={description:"",methods:[],displayName:"ComboBoxItem",props:{children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},active:{required:!0,tsType:{name:"boolean"},description:""},className:{required:!1,tsType:{name:"string"},description:""},activeClassName:{required:!1,tsType:{name:"string"},description:""}}};const ai={ComboBox:ze.ComboBox,ComboBoxList:ze.ComboBoxList,ComboBoxItem:ze.ComboBoxItem,ComboBoxActive:ze.ComboBoxItemActive,ComboBoxNoResults:ze.ComboBoxNoResults},Yt=({classNames:e={},suppressDefaultClassNames:t=!1,placement:n,offsetMainAxis:r=8,offsetAlignmentAxis:o,offsetCrossAxis:s,value:i="",values:c=[],noResults:u="No results",onCreate:l=()=>{},onChange:a=()=>{},...g})=>{const m=Object.assign({},t?{}:ai,e),[f,h]=d.useState(!1),[p,w]=d.useState(i),[x,I]=d.useState(null),b=d.useRef(null),R=d.useRef([]);en(()=>{b.current&&f&&p===""&&h(!0)},[p]),en(()=>{var T;f?(T=b.current)==null||T.select():x||w(i)},[f]);const{refs:k,floatingStyles:D,context:_}=Jo({whileElementsMounted:go,open:f,onOpenChange:h,placement:n,middleware:[wo({mainAxis:r,alignmentAxis:o,crossAxis:s}),Ro({padding:16}),Eo({apply({rects:T,availableHeight:C,elements:v}){Object.assign(v.floating.style,{width:`${T.reference.width}px`,maxHeight:`${C}px`})},padding:16})]}),W=ri(_,{role:"listbox"}),q=Xo(_),$=Uo(_),K=ti(_,{listRef:R,activeIndex:x,onNavigate:T=>{I(T)},openOnArrowKeyDown:!0,virtual:!0,loop:!1}),{getReferenceProps:E,getFloatingProps:F,getItemProps:Y}=Qo([W,q,K,$]);function A(T){const C=T.target.value;w(C),C?(h(!0),I(0)):h(!1)}const y=c.filter(T=>T.toLowerCase().startsWith(p.toLowerCase()));return oe.jsxs(oe.Fragment,{children:[oe.jsxs("div",{ref:k.setPositionReference,className:m.ComboBox,children:[oe.jsx(ur,{ref:fr(k.setReference,b),...E({...g,onChange:A,value:p,"aria-autocomplete":"list",onKeyDown(T){T.key==="Enter"&&(x!==null&&y[x]?(w(y[x]),I(null),h(!1),a(y[x])):l(p))}})}),oe.jsx(ar,{onClick:()=>{var T;h(!f),(T=b.current)==null||T.focus()},children:""})]}),oe.jsx(jo,{children:f&&oe.jsx(zo,{context:_,initialFocus:-1,visuallyHiddenDismiss:!0,children:oe.jsxs("div",{...F({className:m.ComboBoxList,ref:k.setFloating,style:{...D}}),children:[y.length===0&&oe.jsx("div",{className:m.ComboBoxNoResults,children:u}),y.map((T,C)=>oe.jsx(sr,{className:m.ComboBoxItem,activeClassName:m.ComboBoxActive,...Y({ref(v){R.current[C]=v},onClick(){var v;a(T),w(T),h(!1),(v=k.domReference.current)==null||v.focus()}}),active:x===C,children:T},T))]})})})]})};Yt.__docgenInfo={description:"",methods:[],displayName:"ComboBox",props:{classNames:{required:!1,tsType:{name:"defaultClassNames"},description:"",defaultValue:{value:"{}",computed:!1}},suppressDefaultClassNames:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},placement:{required:!1,tsType:{name:"Placement"},description:""},offsetMainAxis:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"8",computed:!1}},offsetAlignmentAxis:{required:!1,tsType:{name:"number"},description:""},offsetCrossAxis:{required:!1,tsType:{name:"number"},description:""},value:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'""',computed:!1}},values:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:"",defaultValue:{value:"[]",computed:!1}},noResults:{required:!1,tsType:{name:"union",raw:"string | ReactNode",elements:[{name:"string"},{name:"ReactNode"}]},description:"",defaultValue:{value:'"No results"',computed:!1}},onCreate:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:"",defaultValue:{value:"() => {}",computed:!1}},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:"",defaultValue:{value:"() => {}",computed:!1}}},composes:["Omit"]};const hi={title:"ComboBox",component:Yt,tags:["autodocs"],parameters:{layout:"centered"},args:{}},Ue=()=>oe.jsx(oe.Fragment,{children:oe.jsx(Yt,{values:["1","2","3"],noResults:"Press Enter to create",onCreate:e=>console.log(e),onChange:e=>console.log(e)})});Ue.__docgenInfo={description:"",methods:[],displayName:"Default"};var Tn,An,Sn;Ue.parameters={...Ue.parameters,docs:{...(Tn=Ue.parameters)==null?void 0:Tn.docs,source:{originalSource:`() => {
  return <>
      <ComboBox values={["1", "2", "3"]} noResults="Press Enter to create" onCreate={value => console.log(value)} onChange={value => console.log(value)} />
    </>;
}`,...(Sn=(An=Ue.parameters)==null?void 0:An.docs)==null?void 0:Sn.source}}};const vi=["Default"];export{Ue as Default,vi as __namedExportsOrder,hi as default};
